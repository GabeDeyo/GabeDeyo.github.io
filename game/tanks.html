<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>TANKS! Implementation</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../gabe/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../gabe/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../gabe/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../gabe/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- MAIN -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">Tanks! Implementation</h1>

                    <aside>
                        <button type="button" class="btn btn-default" name="button" id="selectAll">Select All</button>
                        <button type="button" class="btn btn-default" name="button" id="clearAll">Clear All</button>
                    </aside>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#setup">Setup</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#tank-control">Tank Creation &amp; Control</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#camera-control">Camera Control</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#tank-health">Tank Health</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#shell-creation">Shell Creation</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#firing-shells">Firing Shells</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#game-managers">Game Managers</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#audio-mixing">Audio Mixing</a>
                                </p>
                            </li>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#next-steps">Next Steps</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="setup">
    <h2>Setup</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Select a 2 by 3 layout.
            <br>Bring the Project window below the Hierarchy.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Delete the Directional Light.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Bring in the the LevelArt prefab and reset.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Open the Lighting window.
            <br>Uncheck auto build for baking.
            <br>Unchecked the Baked GI option.
            <br>In Precomputed Realtime GI, set the Realtime Resolution to 0.5.
            <br>In Environment Lighting, set the Ambient Source to Color.
            <br>Set the Ambient Color to (72, 62, 113)
            <br>Build these light settings at the bottom of the Lighting window.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Set the camera position to (-43, 42, -25)
            <br>Change roation to (40, 60, 0)
            <br>Set to Orthographic projection.
            <br>Set Clear Flags to Solid Color. Change color to (80, 60, 50)
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="tank-control">
    <h2>Tank Creation &amp; Control</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Bring in the Tank model and reset.
            <br>Set the layer to "Players", apply to only the parent object.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a Rigidbody.
            <br>Constrain position on y-axis
            <br>Constrain rotation on x/z-axis
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a Box Collider.
            <br>Edit center to (0, 0.85, 0)
            <br>Size to (1.5, 1.7, 1.6)
            <br>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add 2 Audio Sources.
            <br>For the first, add the "EngineIdle" audio clip.
            <br>Check loop since engine always runs.
            <br>For the second, add
            <br>Uncheck play on awake.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Bring the DustTrail particle prefab onto the tank.
            <br>Duplicate this particle and rename them as Left/RightDustTrail
            <br>Position the left at (-0.5, 0, -0.75), position right to (0.5, 0, 0.75)
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a TankMovement script and attach to Tank.
            <pre>
            <span class="glyphicon-remove"></span>//TankMovement
            public int m_PlayerNumber = 1;
            public float m_Speed = 12f;
            public float m_TurnSpeed = 180f;
            public AudioSource m_MovementAudio;
            public AudioSource m_EngineIdle;
            public AudioSource m_EngineDriving;
            public float m_PitchRange = 0.2f;

            private string m_MovementAxisName;
            private string m_TurnAxisName;
            private Rigidbody m_Rigidbody;
            private float m_MovementInputValue;
            private float m_TurnInputValue;
            private float m_OriginalPitch;

            private void Awake() {
                m_Rigidbody = GetComponent(Rigidbody);
            }

            private void OnEnable() {
                m_Rigidbody.isKinematic = false;
                m_MovementInputValue = 0f;
                m_TurnInputValue = 0f;
            }

            private void OnDisable() {
                m_Rigidbody.isKinematic = true;
            }

            private void Start() {
                m_MovementAxisName = "Vertical" + m_PlayerNumber;
                m_TurnAxisName = "Horizontal" + m_PlayerNumber;

                m_OriginalPitch = m_MovementAudio.pitch;
            }

            private void Update() {
                // Store the player's input and make sure the audio for the engine is playing.
                m_MovementInputValue = Input.GetAxis(m_MovementAxisName);
                m_TurnInputvalue = Input.GetAxis(m_TurnAxisName);

                EngineAudio();
            }

            private void EngineAudio() {
                // Play the correct audio based on whether or not the tank is moving and what audio is currently playing.
                if(Mathf.Abs(m_MovementInputValue) < 0.1f) &amp;&amp; Mathf.Abs(m_TurnInputValue) < 0.1f) {
                    if(m_MovementAudio.clip == m_EngineDriving) {
                        m_MovementAudio.clip = m_EngineIdling;
                        m_MovementAudio.pitch = Random.range(m_OriginalPitch - m_PitchRange, m_OriginalPitch + m_PitchRange);

                        m_MovementAudio.Play();
                    }
                } else {
                    if(m_MovementAudio.clip == m_EngineIdling) {
                        m_MovementAudio.clip = m_EngineDriving;
                        m_MovementAudio.pitch = Random.range(m_OriginalPitch - m_PitchRange, m_OriginalPitch + m_PitchRange);

                        m_MovementAudio.Play();
                    }
                }
            }

            private void FixedUpdate() {
                // Move and turn the tank.
                Move();
                Turn();
            }

            private void Move() {
                // Adjust the position of the tank based on the player's input.
                Vector3 movement = transform.forward * m_MovementInputValue * m_Speed * Time.deltaTime;

                m_Rigidbody.MovePosition(m_Rigidbody.position + movement);
            }

            private void Turn() {
                // Adjust the rotation of the tank based on the player's input.
                float turn = m_TurnInputValue * m_TurnSpeed * Time.deltaTime;

                Quaternion turnRotation = Quaternion.Euler(0f, turn, 0f);

                m_Rigidbody.MoveRotation(m_Rigidbody.rotation * turnRotation);
            }
            </pre>
            <p><span class="glyphicon-remove"></span>Fill in appropriate fields</p>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Set the Tank as a prefab.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="camera-control">
    <h2>Camera Control</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Create an new Empty "CameraRig" object and reset.
            <br>Rotate to (40, 60, 0).
            <br>Make the Main Camera a child of this CameraRig.
            <br>Reset the Main Camera then move to (0, 0, -65).
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Set camera to orthographic.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a "CameraControl" script and put on the CameraRig object.
            <pre>
            <span class="glyphicon-remove"></span>//Goals
            // - Find the Average fothe Tanks' positions
            // - Set the CameraRigh to that position each frame

            public float m_DampTime = 0.2f;
            public float m_ScreenEdgeBuffer = 4f;
            public float m_MinSize = 6.5f;
            public Transform[] m_Targets;

            private Camera m_Camera;
            private float m_ZoomSpeed;
            private Vector3 m_MoveVelocity;
            private Vector3 m_DesiredPosition;

            private void Awake() {
                m_Camera = GetComponentInChildren(Camera);
            }

            private void FixedUpdate() {
                Move();
                Zoom();
            }

            private void Move() {
                FindAveragePosition();

                transform.position = Vector3.SmoothDamp(transform.position, m_DesiredPosition, ref m_MoveVelocity, m_DampTime);
            }

            private void FindAveragePosition() {
                Vector3 averagePos = new Vector3();
                int numTargets = 0;

                //Loop through all available targets
                for(int i = 0; i < m_Targets.Length; i++) {
                    //Make sure target game object is active.
                    if(!m_Target[i].gameObject.activeSelf)
                        continue;

                    //Get the vector3 sum of all available target positions
                    averagePos += m_Targets[i].position;
                    //Count the number of targets
                    numTargets++;
                }

                //If we do have active targets, calculate the average of them.
                if(numTargets > 0)
                    averagePos /= numTargets;

                //Maker sure it doesn't leave the ground.
                averagePos.y = transform.position.y;

                //Set desired position.
                m_DesiredPosition = averagePos;
            }

            private void Zoom() {
                float requiredSize = FindRequiredSize();
                m_Camera.orthographicSize = Mathf.SmoothDamp(m_Camera.orthographicSize, requiredSize, ref m_ZoomSpeed, m_DampTime);
            }

            private float FindRequiredSize() {
                Vector3 desiredLocalPos = transform.InverseTransformPoint(m_DesiredPosition);

                float size = 0f;

                for(int i = 0; i < m_Targets.Length; i++) {
                    if(!m_Targets[i].gameObject.activeSelf)
                        continue;

                    Vector3 targetLocalPos = transform.InverseTransformPoint(m_Targets[i].position);

                    Vector3 desiredPosToTarget = targetLocalPos - desiredLocalPos;

                    size = Mathf.Max(size, Mathf.Abs(desiredPosToTarget.y));

                    size = Mathf.Max(size, Mathf.Abs(desiredPosToTarget.x) / m_Camera.aspects);
                }

                size += m_ScreenEdgeBuffer;

                size = Mathf.Max(size, m_MinSize);

                return size;
            }

            public void SetStartPositionAndSize() {
                FindAveragePosition();

                transform.position = m_DesiredPosition;

                m_Camera.orthographicSize = FindRequiredSize();
            }
            </pre>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Apply appropriate objects.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="tank-health">
    <h2>Tank Health</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Set Unity to Pivot, not Local for scene view.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new Slider UI.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the EventSystem object.
            <br>In Standalone Input Module, rename Horizontal Axis to "HorizontalUI"
            <br>Do same kind of thing for Vertical Axis.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Canvas object.
            <br>In Canvas component, set Render mode to World Space.
            <br>In Canvas Scaler, change Reference Pixels Per Unit to 1.
            <br>Make this Canvas a child of the Tank.
            <br>Move position to (0, 0.1, 0)
            <br>Change width/height to 3.5/3.5.
            <br>Rotate to (90, 0, 0)
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Alt click the canvas object to expand all children.
            <br>Delete the HandleSlideArea
            <br>Select all Canvas children to anchor all the same.
            <br>Set anchor and position to a full stretch. Should look like a grey square.
            <br>Make the slider not interactable.
            <br>Set Transition to None.
            <br>Set Min to 0, and Max to 0.
            <br>Drag the value to 100.
            <br>Rename slider to HealthSlider
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Health Wheel for the Background image.
            <br>Set Background alpha to 80.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Health Wheel for the Fill image.
            <br>Set Fill alpha to 150.
            <br>Set Image Type to Filled.
            <br>Set Fill Origin to Left.
            <br>Uncheck Clockwise.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new UIDirectionControl script and add to HealthSlider.
            <pre>
            <span class="glyphicon-remove"></span>//UIDirectionControl
            public bool m_UseRelativerotation = true;

            private Quaternion m_RelativeRotation;

            private void Start() {
                m_RelativeRotation = transform.parent.localRotation;
            }

            private void Update() {
                if(m_UseRelativeRotation)
                    transform.rotation = m_RelativeRotation;
            }
            </pre>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Bring the TankExplosion prefab into the Hierarchy.
            <br>Add an audio source to it with the "TankExplosion" clip.
            <br>Uncheck play on awake.
            <br>Apply to it's prefab and delete from scene.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new TankHealth script and add to the Tank.
            <pre>
            <span class="glyphicon-remove"></span>//Tank Health
            public float m_StartingHealth = 100f;
            public Slider m_Slider;
            public Image m_FillImage;
            public Color m_FullHealthColor = Color.green;
            public Color m_ZeroHealthColor = Color.red;
            public GameObject m_ExplosionPrefab;

            private AudioSource m_ExplosionAudio;
            private ParticleSystem m_ExplosionParticles;
            private float m_CurrentHealth;
            private bool m_Dead;

            private void Awake() {
                m_ExplosionParticles = Instantiate(m_ExplosionPrefab).GetComponent(ParticleSystem);
                m_ExplosionAudio = mExplosionParticles.GetComponent(AudioSource);

                m_ExplosionParticles.gameObject.SetActive(false);
            }

            private void OnEnable() {
                m_CurrentHealth = m_StartingHealth;
                m_Dead = false;

                SetHealthUI();
            }

            public void TakeDamage(float amount) {
                // Adjust the tan'ks current health, update the UI based on the new health and check whether or not the tank is dead.
                m_CurrentHealth -= amount;

                SetHealthUI();

                if(m_CurrentHealth <= 0f &amp;&amp; !m_Dead) {
                    OnDeath();
                }
            }

            private void SetHealthUI() {
                // Adjust the value and color of the slider.
                m_Slider.value = m_CurrentHealth;

                m_FillImage.color = Color.Lerp(m_ZeroHealthColor, m_FullHealthColor, m_CurrentHealth / m_StartingHealth);
            }

            private void OnDeath() {
                // Play the effects for the death of the tank and deactivate it.
                m_Dead = true;

                m_ExplosionParticles.transform.position = transfrom.position;
                m_ExplosionParticles.gameObject.SetActive(true);
                m_ExplosionParticles.Play();

                m_ExplosionAudio.Play();

                gameObject.SetActive(false);
            }
            </pre>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Assign appropriate objects to fields.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="shell-creation">
    <h2>Shell Creation</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Drag the Shell model into the scene.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a Capsule collider to the shell.
            <br>Set to a Trigger.
            <br>Set center to (0, 0, 0.2), radius to 0.15, and height to 0.55
            <br>Change direction to z-axis.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a Rigidbody.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Drag and drop the ShellExplosion prefab onto the Shell.
            <br>Add an Audio Source with the "ShellExplosion" clip.
            <br>Uncheck play on awake.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a Light to the shell.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a ShellExplosion script and attach to shell.
            <pre>
            <span class="glyphicon-remove"></span>//ShellExplosion
            public LayerMask m_TankMask;
            public ParticleSystem m_ExplosionParticles;
            public AudioSource m_ExplosionAudio;
            public float m_MaxDamage = 100f;
            public float m_ExplosionForce = 1000f;
            public float m_MaxLifeTime = 2f;
            public float m_ExplosionRadius = 5f;

            private void Start() {
                Destroy(gameObject, m_MaxLifeTime);
            }

            private void OnTriggerEnter(Collider other) {
                // Find all the tanks in an area around the shell and damage them.
                Collider[] colliders = Physics.OverlapSphere(transform.position, m_ExplosionRadius, m_TankMask);

                for(int i = 0; i < colliders.Length; i++) {
                    Rigidbody targetRigidbody = colliders[i].GetComponent(Rigidbody);

                    if(!targetRigidbody)
                        continue;

                    targetRigidbody.AddExplosionForce(m_ExplosionForce, transform.position, m_ExplosionRadius);

                    TankHealth targetHealth = targetRigidbody.GetComponent(TankHealth);

                    if(!targetHealth)
                        continue;

                    float damage = CalculateDamage(targetRigidbody.position);

                    targetHealth.TakeDamage(damage);
                }

                m_ExplosionParticles.transform.parent = null;

                m_ExplosionParticles.Play();

                m_ExplosionAudio.Play();

                Destory(m_ExplosionParticles.gameObject, m_ExplosionParticles.duration);
                Destory(gameObject);
            }

            private float CalculateDamage(Vector3 targetPosition) {
                //Calculate the amount of damage a target should take based on it's position.
                Vector 3 explosionToTarget = targetPosition - transform.position;

                float explosionDistance = explosionToTarget.magnitude;

                float relativeDistance = (m_ExplosionRadius - explosionDistance) / m_explosionRadius;

                float damage = relativeDistance * m_MaxDamage;

                damage = Mathf.Max(0f, damage);

                return damage;
            }
            </pre>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Set appropriate values.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="firing-shells">
    <h2>Firing Shells</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Create an Empty "FireTransform" on the Tank object.
            <br>Position to (0, 1.7, 1.35)
            <br>Rotate to (350, 0, 0)
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Canvas on the Tank, and create another Slider as "AimSlider".
            <br>Delete the AimSlider Handle Slide Area.
            <br>Delete the Background
            <br>Uncheck Interactable on AimSlider.
            <br>Set Transition to None.
            <br>Make Direction "Bottom To Top"
            <br>Set Min to 15, and Max to 30
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select botht the AimSlider and the Fill Area only.
            <br>Set anchor and position to stretched.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Change the Fill Height to 0.
            <br>Change the Fill image to AimArrow.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            With the AimSlider selected, go to the UI transform option (t).
            <br>Bring in the sides to match the Tank width.
            <br>Extend it's length about 3 times the original.
            <br>Drag the whole thing out in front of the tank so the edges are touching.
            <br>(Or use left - (1), Top - (-9), Z - (-1), Right - (1), Bottom - (3))
            <br>Test out slider to make sure this is correct.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new "TankShooting" script on the Tank.
            <pre>
            <span class="glyphicon-remove"></span>//TankShooting
            public int m_PlayerNumber = 1;
            public Rigidbody m_Shell;
            public Transform m_FireTransform;
            public Slider m_Aimslider;
            public AudioSource m_Shooting Audio;
            public AudioClip m_CharginClip;
            public AudioClip m_FireClip;
            public float m_MinLaunchForce = 15f;
            public float m_MaxLaunchForce = 30f;
            public float m_MaxChargeTime = 0.75f;

            private string m_FireButton;
            private float m_CurrentLaunchforce;
            private float m_ChargesSpeed;
            private bool m_Fired;

            private void OnEnable() {
                m_CurrentLaunchForce = m_MinLaunchForce;
                m_AimSlider.value = m_MinLaunchForce;
            }

            private void Start() {
                m_FireButton = "Fire" + m_PlayerNumber;

                m_ChargeSpeed = (m_MaxLaunchForce - m_MinLaunchForce) / m_MaxChargeTime;
            }

            private void Update() {
                // Track the current state of the fire button and make decisions based on the current launch force.
                m_AimSlider.value = m_MinLaunchForce;

                if(m_CurrentLaunchForce >= m_MaxLaunchForce &amp;&amp; !m_Fired) {
                    // at max charge, not yet fired
                    m_CurrentLaunchForce = m_MaxLaunchForce;
                    Fire();
                } else if(Input.GetButtonDown(m_FireButton)) {
                    // have we pressed fire for the first time?
                    m_Fired = false;
                    m_CurrentLaunchForce = m_MinLaunchForce;

                    m_ShootingAudio.clip = m_ChargingClip;
                    m_ShootingAudio.Play();
                } else if(Input.GetButton(m_FireButton) &amp;&amp; !m_Fired) {
                    // Holding the fire button, not yet fired
                    m_CurrentLaunchForce += m_ChargeSpeed * Time.deltaTime;

                    m_AimSlider.value = m_CurrentLaunchForce;
                } else if(Input.GetButtonUp(m_FireButton) &amp;&amp; !m_Fired) {
                    Fire();
                }
            }

            private void Fire() {
                //Instantiate and launch the shell.
                m_Fired = true;

                Rigidbody shellInstance = Instantiate(m_Shell, m_FireTransform.position, m_FireTransform.rotation) as Rigidbody;

                shellInstance.velocity = m_CurrentLaunchForce * m_FireTransform.forward;

                m_ShootingAudio.clip = m_FireClip;
                m_ShootingAudio.Play();

                m_CurrentLaunchForce = m_MinLaunchForce;
            }
            </pre>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Populate the script with appropriate values.
            <br>Delete the tank from the scene after all changes have been applied to it's prefab.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="game-managers">
    <h2>Game Managers</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Create an Empty "SpawnPoint1" at (-3, 0, 30) and an empty "SpawnPonit2" at (13, 0, -5)
            <br>Give the first one a blue icon, and red for the second.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new UI Canvas as "MessageCanvas".
            <br>Set to 2D mode.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a new Text named ""
            <br>Set min/max anchors to 0.1/0.9
            <br>Reset all Position fields. (left, right, top, bottom, pos-z)
            <br>Set text to TANKS!
            <br>Set font to BowlbyOne-Regular
            <br>Set alignment to middle for hori/vert
            <br>Set text to best fit.
            <br>Min size/Max size is 10/60
            <br>Set color to white.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Add a shadow to the text.
            <br>Change color to (114, 71, 40, 128)
            <br>Set effect distance to (-3, -3).
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            In Camera Controler script, put this in front of public Transform[] m_Targets.
            <br>[HideInInspector]
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a new Empty "GameManager" with a new GameManager script and a new TankManager script.
            <pre>
            <span class="glyphicon-remove"></span>//Tank Manager
            /*Make serializable. [Serializable] above public class TankManager
                Doesn't inherit from MonoBehavior */
            public Color m_PlayerColor;
            public Transform m_SpawnPoint;
            [HideInInspector] public int m_PlayerNumber;
            [HideInInspector] public string m_ColoredPlayerText;
            [HideInInspector] public GameObject m_Instance;
            [HideInInspector] public int m_Wins;

            private TankMovement m_Movement;
            private TankShooting m_Shooting;
            private GameObject m_CanvasGameObject;

            public void Setup() {
                m_Movement = m_Instance.GetComponent(TankMovement);
                m_Shooting = m_Instance.GetComponent(TankShooting);
                m_CanvasGameObject = m_Instance.GetComponentInChildren(Canvas).gameObject;

                m_Movement.m_PlayerNumber = m_PlayerNumber;
                m_Shooting.m_PlayerNumber = m_PlayerNumber;

                m_ColoredPlayerText = "&lt;color=#" + ColorUtility.ToHtmlStringRGB(m_PlayerColor) + "&gt;PLAYER " + m_PlayerNumber + "&lt;/color&gt;";

                MeshRenderer[] renderers = m_Instance.GetComponentsInChildren(MeshRenderer);

                for(int i = 0; i < renderers.Length; i++) {
                    renderers[i].material.color = m_PlayerColor;
                }
            }

            public void DisableControl() {
                m_Movement.enabled = false;
                m_Shooting.enabled = false;

                m_CanvaseGameObject.SetActive(false);
            }

            public void EnableControl() {
                m_Movement.enbaled = true;
                m_Shooting.enabled = true;

                m_CanvasGameObject.SetActive(true);
            }

            public void Reset() {
                m_Instance.transform.position = m_SpawnPoint.position;
                m_Instance.transform.rotation = m_SpawnPoint.rotation;

                m_Instance.SetActive(false);
                m_Instance.SetActive(true);
            }
            </pre>
            &nbsp;
            <pre>
            <span class="glyphicon-remove"></span>//GameManager
            public int m_NumRoundsToWin = 5;
            public float m_StartDelay = 3f;
            pulic float m_EndDelay = 3f;
            public CameraControl m_CameraControl;
            public Text m_MessageText;
            public GameObject m_TankPrefab;
            public TankManager[] m_Tanks;

            private int m_RoundNumber;
            private WaitForSeconds m_StartWait;
            private WaitForSeconds m_EndWait;
            private TankManager m_RoundWinner;
            private TankManager m_GameWinner;

            private void Start() {
                m_StartWait = new WaitForSeconds(m_StartDelay);
                m_EndWait = new WaitForSeconds(m_EndDelay);

                SpawnAllTanks();
                SetCameraTargets();

                StartCoroutine(GameLoop());
            }

            private void SpawnAllTank() {
                for(int i = 0; i < m_Tanks.Length; i++) {
                    m_Tanks[i].m_Instance = Instantiate(m_TankPrefab, m_Tanks[i].m_SpawnPoint.position, m_Tanks[i].m_SpawnPoint.rotation) as GameObject;
                    m_Tanks[i].m_PlayerNumber = i + 1;
                    m_Tanks[i].Setup();
                }
            }

            private void SetCameraTargets() {
                Transform[] targets = new Transform[m_Tanks.Length];

                for(int i = 0; i < targets.Length; i++) {
                    targets[i] = m_Tanks[i].m_Instance.transform;
                }

                m_CameraControl.m_Targets = targets;
            }

            private IEnumerator GameLoop() {
                yield return StartCoroutine(RoundStarting());
                yield return StartCoroutine(RoundPlaying());
                yield return StartCoroutine(RoundEnding());

                if(m_GameWinner != null) {
                    Application.LoadLevel(Application.loadedLevel);
                } else {
                    StartCoroutine(GameLoop());
                }
            }

            private IEnumerator RoundStarting() {
                ResetAllTanks();
                DisableTankControl();

                m_CameraControl.SetStartPositionAndSize();

                m_RoundNumber++;
                m_MessageText.text = "ROUND " + m_NumRoundNumber;

                yield return m_StartWait;
            }

            private IEnumerator RoundPlaying() {
                EnableTankControl();

                m_MessageText.text = string.Empty;

                while(!OneTankLeft()) {
                    yield return null;
                }
            }

            private IEnumerator RoundEnding() {
                DisableTankControl();

                m_RoundWinner = null;

                m_RoundWinner = GetRoundWinner();

                if(m_RoundWinner != null)
                    m_RoundWinner.m_Wins++;

                m_GameWinner = GetGameWinner();

                string message = EndMessage();
                m_MessageText.text = message;

                yield return m_EndWait;
            }

            private bool OneTankLeft() {
                int numTanksLeft = 0;

                for(int i = 0; i < m_Tanks.Length; i++) {
                    if(m_Tanks[i].m_Instance.activeSelf)
                        numTanksLeft++;
                }

                return numTanksLeft <= 1;
            }

            private TankManager GetRoundWinner() {
                for(int i = 0; i < m_Tanks.Length; i++) {
                    if(m_Tanks[i].m_Instance.activeSelf)
                        return m_Tanks[i];
                }

                return null;
            }

            private TankManager GetGameWinner() {
                for(int i = 0; i < m_Tanks.Length; i++) {
                    if(m_Tanks[i].m_Wins == m_NumRoundsToWin)
                        return m_Tanks[i];
                }

                return null;
            }

            private string EndMessage() {
                string message = "DRAW!";

                if(m_RoundWinner != null)
                    message = m_RoundWinner.m_ColoredPlayerText + " WINS THE ROUND!";

                message += "\n\n\n\n";

                for(int i = 0; i < m_Tanks.Length; i++) {
                    message += m_Tanks[i].m_ColoredPlayerText + ": " + m_Tanks[i].m_Wins + " WINS\n";
                }

                if(m_GameWinner != null)
                    message = m_GameWinner.m_ColoredPlayerText + " WINS THE GAME!";

                return message;
            }
            </pre>
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="audio-mixing">
    <h2>Audio Mixing</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            On the GameManager, add an Audio Source.
            <br>Select the Background Music.
            <br>Select loop.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Create a folder called AudioMixers.
            <br>Create a new Audio Mixer called "MainMix"
            <br>Open up the AudioMixer window.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Make a new group by selecting Master in Groups and add a a group.
            <br>Add a new Group called "Music"
            <br>Add a new Group called "SFX"
            <br>Add a new Group called "Driving"
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Tank, and add the Driving mix for the Output.
            <br>For the second audio source, add the SFX mix for Output.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the Shell prefab and find the Shell explosion source.
            <br>Add SFX mix for Output.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Select the GameManager and add the Music mix for Output.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Find the TankExplosion in prefabs and add SFX mix for Output.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            In the AudioMixer, bring the Music levels down to -12.
            <br>Click Add.. and attach a DuckVolume.
            <br>On SFX, add a Send to it.
            <br>With this send, for it's receive select 'Music\Duck Volume'
            <br>Bring the Send Level to the heighest (0.00db).
            <br>On the duck volume, bring the Threshhold down to -45.
            <br>Bring it's ratio to %250
            <br>Bring Attack Time to 0ms
            <br>Bring the Driving down to -25.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class="jumbotron col-md-12 heliList" id="next-steps">
    <h2>Next Steps</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            Make the game!
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Find additional training for this game, it's not on the actual training site but they recently uploaded stuff for this project.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            XXX
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <!-- Latest Minified Slim JQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script src="../js/selection.js" charset="utf-8"></script>
</body>

</html>

<!-- Section Template

<div class="jumbotron col-md-12 heliList" id="">
    <h2>XXX</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            XXX
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            XXX
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            XXX
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

-->
