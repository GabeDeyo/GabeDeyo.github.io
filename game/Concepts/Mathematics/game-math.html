<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Game Math</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="../../Categories/concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="../../Categories/engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="../../Categories/implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- PROGRAMMING -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- LANGUAGES -->
                                <li><a href="../../../code/Categories/languages.html">Languages <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ALGORITHMS -->
                                <li><a href="../../../code/Categories/algorithms.html">Algorithms <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PROBLEMS -->
                                <li><a href="../../../code/Categories/problems.html">Problems <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- RANDOM -->
                                <li><a href="../../../code/Categories/random.html">Random <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../../../gabe/Categories/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../../../gabe/Categories/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../../../gabe/Categories/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../../../gabe/Categories/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- MAIN -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">Game Math</h1>

                    <aside>
                        <button type="button" class="btn btn-default" name="button" id="selectAll">Select All</button>
                        <button type="button" class="btn btn-default" name="button" id="clearAll">Clear All</button>
                    </aside>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#0">Intro</a>
                                </p>
                            </li>
                            <h3><b>Layout</b></h3>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#1'>Centering Objects</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#2'>Horizontal and Vertical Layout</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#3'>Grid Layout</a>
                                </p>
                            </li>
                            <h3><b>Collision</b></h3>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#4'>Point Collision</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#5'>Rectangle Collision</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#6'>Distance</a>
                                </p>
                            </li>
                            <h3><b>Formulas</b></h3>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#7'>Healthbar &amp; Percentages</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#8'>Experience Calculator</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#9'>Linear Tween</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="0">
    <h2>Intro</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            If you're a game developer, you can overcome many common programming hurdles by knowing just a few commonly used math techniques.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            In this section, we're going to learn about the concepts of grids and collisison detection, as well as useful formulas you can apply to a variety of problems. Throughout the course, we'll focus on beginner-level game math and uses in JavaScript. We'll also be seeing visual examples with the HTML5 Canvas.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            We'll cover three main topics - layout, collision, and formulas - beginning with layout, where we'll go into centering objects and working with grids. Next, we'll discuss collisions, where we'll go through point collision, rectangle collision, and how to tell the distance between two points. Finally, we'll cover formulas for calculating health and experience. By the time we wrap up this course, we'll have some basic math skills that you can apply to any game.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='1'>
    <h2>Centering Object</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            In this example, our canvas will contain a maroon square that represents the map, and a silver square that represents the player. The player is initially set to location 0, 0  (upper left).
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; We can <b>center</b> the player by finding the halfway point between the map and the player. To start we'll set the location of the player to the maps width, divided by two. Then offset the odd position with the players width divided by two. <b>BUT</b> we can clean this up! Division is actually expensive in programming, and we always want to stive to use either multiplication or addition.
            <br> &bull; Take out the <i>division operations</i> and put <i>paretheses</i> around the map.width and the player.width. Now we can <b>multiply</b> that by 0.5f. This is more efficient because not only are we using multiplication, but we've taken out <b>2</b> divisions as well.
            <br> &bull; In order to apply this to the centered y position, copy and paste the previous code and replace all x's with y's and the widths with heights.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            What happends if our map isn't exactly positioned in the upper-left hand corner? We'll need to consider the maps <b>offset</b> for this situation.
            <br> &bull; In the equations, simply <i>add</i> the maps x and y position to help offset the player.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This technique is useful for centering any object inside of another object. If you're laying out navigation, or you're laying out text, you can use this in order to figure out the correct position to put one element inside of a parent element.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>//Create canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            //Style canvas
            canvas.width = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            // Setup some basic squares to use for our example:
            var map = {
                x:50, y:50,
                width:200, height:200,
                color:'maroon'
            };
            var player = {
                x:0, y:0,
                width:25, height:25
                color:'silver'
            };

            //Center player
            player.x = map.x + (map.width - player.width) * 0.5;
            player.y = map.y + (map.height - player.height) * 0.5;

            //Draw map
            context.fillStyle = map.color;
            context.fillRect(map.x,map.y,map.width,map.height);

            //Draw player
            context.fillStyle = player.color;
            context.fillRect(player.x,player.y,player.width,player.height);
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='2'>
    <h2>Horizontal and Vertical Layout</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            In this section, we're going to examine how to lay out a set of boxes vertically and horizontally.
            <br>The beginning of this project will only contain a single red box being displayed in the canvas at 0, 0.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            We'll start with a reference to a Red Box object and move on to our loop structure. It is called five times, and in each loop we're defining the boxes position.
            <br> &bull; The easiest way to align the boxes vertically is to take the box's width and multiply it by i, which represents the position in the loop.
            <br> &bull; If we need padding between each of those boxes, the best way to consistently calculate that would be with a padding variable. Then simply add that padding to the width of the box, then multiplying that result with i.
            <br> &bull; For more of a grid like structure, place the box initialization in nested loops setting rows and columns at the same time.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            What if we wanted to move the whole row to a different location without everything getting misaligned.
            <br> &bull; We'll start by creating a startX and startY variable to represent where we want the layout to begin.
            <br> &bull; This is the same concept as the offset variables in the last section, so simply add those to the boxes positions to get a different starting position for the whole layout.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This is a very common and important technique, when it comes to laying out any type of UI or navigation, you might have in your game. If you have a row of buttons as part of a top nav bar, or a side nav bar, you can lay them out vertically or horizontally, based on your needs.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>//Create canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            //Style canvas
            canvas.width = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            // setup some basic boxes for our example
            var redBox = {x:0, y:0, width:25, height:25, color: 'red'};
            var blueBox = {x:0, y:0, width:25, height:25, color: 'blue'};

            // draws a box to the canvas
            function drawBox(x, y, box) {
                context.fillStyle = box.color;
                context.fillRect(x, y, box.width, box.height);
            }

            var padding = 5;

            var startX = 100;
            var startY = 100;

            var columns = 5;
            var rows = 5;

            var box = redBox;

            //Align Boxes in Columns
            for(var i = 0; i &lt; columns; i++) {
                //Set column position
                var x = (box.width + padding) * i;
                var y = 0;

                //Set structure offset
                x += startX;
                y += startY;

                drawBox(x, y, box);
            }

            box = blueBox;
            //Align Boxes in Rows
            for(var i = 1; i &lt; rows; i++ ){
                //Set row position
                var x = 0;
                var y = (box.height + padding) * i;

                //Set structure offset
                x += startX;
                y += startY;

                drawBox(x, y, box);
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='3'>
    <h2>Grid Layout</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            In this section we'll create a simple grid layout. This layout will be useful when you're trying to render a tile map or if you're trying to build an inventory UI.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Just to start, we'll define how many columns and rows we want. Then multiply those to get the total size of the grid. 
            <br> &bull; This time, our loop structure will loop through the entire total size of our grid.
            <br> &bull; Again we'll want to consider padding and starting positions. 
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            In order to perform this strategy inside one for loop structure, we'll need a column and row counter.
            <br> &bull; Instead of the positions being multiplied by the i position, we'll multiply by the respective counter.
            <br> &bull; With each loop, the column will be incremented. 
            <br> &bull; Then, we'll need to check if the column counter is greater or equal to the columns length.
            <br> &nbsp; &bull; If so, we simply increment the row counter, and set the column counter back to 0.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Some examples where this would be helpful would be a tile map and an inventory system. 
            <br>If you were to render out a tile map, you would simply remove the padding or set to 0, and all the cells of our map would come together to show a seamless tile map. Then you can match this with an array of different IDs for tiles you'd want to render and as you loop through each of the cells of the tile simply call out the sprite and draw it to the display. 
            <br>If you're building UI for an inventory system, add the padding and use the same technique. Each of the cells or items in an array that you would read would represent a weapon or item in the inventory and you can simply draw them to display. If no weapon exists, simply draw a box and show an empty cell.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            // setup a basic box to use for our example
            var box = {
                width: 25,
                height: 25,
                color: "red"
            };

            // draws a box to the canvas
            function drawBox(x, y, box){
                context.fillStyle = box.color;
                context.fillRect (x, y, box.width, box.height);
            }

            var columns = 10;
            var rows = 10;
            var total = columns * rows;
            
            var padding = 5;
            var startX = 10;
            var startY = 10;

            var column = 0;
            var row = 0;

            for(var i = 0; i &lt; total; i++) {
                var x = startX + (box.width + padding) * column;
                var y = startY + (box.height + padding) * row;

                drawBox(x, y, box);

                column++;

                if(column >= columns) {
                    row++;
                    column = 0;
                }
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='4'>
    <h2>Point Collision</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            In this example, we're going to test to see if a single point is inside of another object. This is the basic cornerstone of doing collision detection. 
            <br> In the setup, we have a red box and a string telling us if the mouse pointer is in the box or not, and the mouse position.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            We want to detect whether the x and the y values being passed into a <b>contains</b> method are within the target's boundaries.
            <br> &bull; In order to return a result, we'll first return the result of if x is greater than or equal to the target.x. This will tell us if x is not to the left.
            <br> &bull; To test if it's to the left and right (in between the edges) add to  the return statement the condition x is less than or equal to target.x plus target.width.
            <br> &bull; Do the same thing with the y positions and target height to easily check if the mouse is inside the box.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This is a fundamental technique of learning collision detection. It's relatively easy for us to detect if a single point is inside of another object by taking into account the parent object's x and y start position as well as it's width and height and location on the screen. This would still work even if the red box was moving around in the screen independent of the mouse's own position. Because every time we detect whether collision happens we're looking to make sure that the x and y value is inside the target we're testing. This technique is really useful when trying to detect whether your mouse or cursor is inside of a button or interactive object in your game's UI.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            var box = {x:10, y:30, width: 100, height: 100 };

            // place holders for mouse x,y position
            var mouseX = 0;
            var mouseY = 0;

            // loop
            setInterval(onTimerTick, 33);

            // render loop
            function onTimerTick(){
                //clear the canvas
                canvas.width = canvas.width;

                // see if a collision happened
                var collision = contains(box, mouseX, mouseY);

                // render out text
                var color = collision ? 'green' : 'red';
                context.fillStyle = color;
                context.font="18px sans-serif";
                context.fillText("Collision " + collision + " Mouse("+mouseX + "," + mouseY+")", 10, 20);

                // render out square
                context.fillStyle = color;
                context.fillRect(box.x, box.y, box.width, box.height);
            }

            // update mouse position() {
                mouseX = e.offsetX;
                mouseY = e.offsetY;
            }

            // test for collision between an object and a point
            function contains(target, x, y) {
                return (x >= target.x &amp;&amp; x &lt;= target.x + target.width
                        &amp;&amp; y >= target.y &amp;&amp; y &lt;= target.y + target.height);
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='5'>
    <h2>Rectangle Collision</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            Next, we'll look at whether two boxes collide with each other. This is called bounding box collision, and it's common when you have a larger object, such as a tile map, and a smaller object, such as a player.
            <br>In the example, we have a centered large square, and a smaller red square that follows the mouse. The goal is to detect when the red box (target) is inside the large box (collision bounds).
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            To get started we'll need to again check out the <b>contains</b> method where we'll do all of our conditional checking.
            <br> &bull; Similar to the previous section, we'll only need to check four conditions for our collision here.
            <br> &nbsp; 1. Target.X + Target.Width >= collisionBounds.X
            <br> &nbsp; 2. Target.X &lt;= collisionBounds.X + collisionBounds.Width
            <br> &nbsp; 3. Target.Y + Target.Height >= collisionBounds.Y
            <br> &nbsp; 4. Target.Y &lt;= collisionBounds.Y + collisionBounds.Height
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This technique is useful on any tile map assuming that we detect the collision boundary is a solid tile and our target is the player itself. If the player is standing on top of the tile, we would want to set a flag that our player is standing on solid ground, and simply move the box above the collision area so that it looks like it's standing above the tile. If the player is running from the right or the left, as soon as they hit the wall, we would detect a collision and push the player back accordingly. And the same thing if the player jumps and hits a block from the top. We would simply move the player back to where the collision is set to false and then let the player fall based on the gravity in the game.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            var object1 = {x:130, y:130, width: 100, height: 100 };
            var object2 = {x:10, y:30, width: 25, height: 25 };

            // place holders for mouse x,y position
            var mouseX = 0;
            var mouseY = 0;

            // loop
            setInterval(onTimerTick, 33);

            // render loop
            function onTimerTick() {
                
                // update object2 to mouse
                object2.x = mouseX - (object2.width * .5);
                object2.y = mouseY - (object2.height * .5);
                
                // clear the canvas
                canvas.width = canvas.width;
                
                // detect a collision
                var collision = contains(object1, object2);
                var color = collision ? "green" : "red";
            
                // draw text
                context.fillStyle = color;
                context.font="18px sans-serif";
                context.fillText("Collision "+collision, 20, 20);
                
                // draw first rectangle
                context.fillStyle = "grey";
                context.fillRect (object1.x,object1.y,object1.width,object1.height);
                
                // draw second rectangle
                context.fillStyle = color;
                context.fillRect (object2.x,object2.y,object2.width,object2.height);
            }

            // update mouse position
            canvas.onmousemove = function(e) {
                mouseX = e.offsetX;
                mouseY = e.offsetY;
            }

            // test for collision between two boxes
            function contains(collisionBounds, target) {
            return (target.x + target.width >= collisionBounds.x
                    &amp;&amp; target.x &lt;= collisionBounds.x + collisionBounds.width
                    &amp;&amp; target.y + target.height >= collisionBounds.y
                    &amp;&amp; target.y &lt;= collisionBounds.y + collisionBounds.height);
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='6'>
    <h2>Distance</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            In the final Collision example, we're going to detect the distance between two objects in our game. This is useful if we have a monster and a player and we want the monster to become activated when the player is closer to the monster.
            <br> In the project, we'll have a centered object and a block that will follow the mouse. We'll want to calculate the distance between these two objects.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            In the <b>distanceTo</b> method, we'll use a familiar equation. The <b>Pythagorean Theorem</b>.
            <br> &bull; We'll find the change in x with targetA.x - targetB.x
            <br> &bull; Then find the change in y with targetA.y - targetB.y
            <br> &bull; Finally return the theorem with Math.sqrt(xd*xd + yd*yd)
            <br> Note that the square root is a very expensive operation. If you're running this method on lots of object, expect considerable slowdown. Also <b>only</b> perform this method on object inside of the screen. It's easier to detect whether an object is outside of the distance of the render area before trying to calculate something expensive like this.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            var object1 = {x:150, y:150, width: 100, height: 100 };
            var object2 = {x:10, y:30, width: 25, height: 25 };

            // place holders for mouse x,y position
            var mouseX = 0;
            var mouseY = 0;

            // Loop
            setInterval(onTimerTick, 33);

            // Render Loop
            function onTimerTick() {
                
            // update object2 to mouse
            object2.x = mouseX - (object2.width * .5);
            object2.y = mouseY - (object2.height * .5);
            
            // clear the canvas
            canvas.width = canvas.width;
            
            // calculate the distance
            var distance = distanceTo(object1, object2);
            
            // draw text
            context.fillStyle = "Red";
            context.font="18px sans-serif";
            context.fillText("Distance "+Math.round(distance), 20, 20);
            
            // draw first rectangle
            context.fillStyle = "blue";
            context.fillRect (object1.x,object1.y,object1.width,object1.height);
            
            // draw second rectangle
            context.fillStyle = "green";
            context.fillRect (object2.x,object2.y,object2.width,object2.height);
            
            // line positions
            var o1cX = object1.x + (object1.width * .5);
            var o1cY = object1.y + (object1.height * .5);
            
            var o2cX = object2.x + (object2.width * .5);
            var o2cY = object2.y + (object2.height * .5);
            
            // draw distance line
            if(Math.abs(distance) > 0){
                context.beginPath();
                context.moveTo(o1cX, o1cY);
                context.lineTo(o2cX, o2cY);
                context.stroke();
            }
            
            // draw x distance line
            if(Math.abs(xd) > 0){
                context.setLineDash([5, 10]);
                context.beginPath();
                context.moveTo(o1cX, o1cY);
                context.lineTo(o2cX, o1cY);
                context.stroke();
            }
            
            // draw y distance line
            if(Math.abs(yd) > 0){
                context.setLineDash([5, 10]);
                context.beginPath();
                context.moveTo(o2cX, o1cY);
                context.lineTo(o2cX, o2cY);
                context.stroke();
            }
            
            }

            // update mouse position
            canvas.onmousemove = function(e) {
            mouseX = e.offsetX;
            mouseY = e.offsetY;
            }

            var xd = 0;
            var yd = 0;

            // calculate the distance between two objects
            function distanceTo( targetA, targetB) {
            
            xd = targetA.x - targetB.x;
            yd = targetA.y - targetB.y;
            
            return Math.sqrt(xd * xd + yd * yd);
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='7'>
    <h2>Healthbar &amp; Percentages</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            Our first formula example is going to be drawing a health bar.
            <br> We'll start with two bars being drawn with one on top of the other. The background bar is a black bar and the foreground bar that represents health is in red.
            <br> In the example, we're also displaying the life value and the percentage we'll be calculating to show health percentage left. 
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The first key we'll need is the <b>ratio</b>. This is simply the health divided by the maximum health value.
            <br> &bull; We can then display that as a <b>percentage</b> by multiplying that ratio by 100.
            <br> &bull; To visualize this with the bar, set the fill width (health bar width) to it's width times the ratio.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This technique is useful in many applications, not just health. If you have a stamina or any other type of slider interface, this can be used to calculate the position of the fill inside of a bar.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            // health bar dimensions
            var healthBar = {
                x: 20,
                y: 30,
                width: 300,
                height: 20
            };

            // loop
            setInterval(onTimerTick, 33);

            // render Loop
            function onTimerTick() {

                // clear the canvas
                canvas.width = canvas.width;

                // draw text
                context.fillStyle = "Red";
                context.font = "18px sans-serif";
                context.fillText("Life " +health+"/"+maxHealth+" (" + ratio + " = " +percent +"%)", 20, 20);

                // draw background
                context.fillStyle = "black";
                context.fillRect(healthBar.x, healthBar.y, healthBar.width, healthBar.height);

                // draw fill
                context.fillStyle = "red";
                context.fillRect(healthBar.x, healthBar.y, fillWidth, healthBar.height);
            }

            var maxHealth = 10;
            var health = 10;
            var ratio = health/maxHealth;
            var percent = ratio * 100;
            var fillWidth = healthBar.width * ratio;
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='8'>
    <h2>Experience Calculator</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            For this example, we're going to create an experience calculator. Experience points are used to determine how a player levels up in a game. These are common in role playing games, but can really be used in any type of game wher the player needs to get to the next level and you need to determine the amount of points they need in order to reach that level.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; We'll start at the <b>NextLevelExp</b> method which will let us calculate points till next level.
            <br> &bull; We will start by adding the level plus one.
            <br> &bull; Then multiply that result by the level again.
            <br> &bull; Finally, return that result times the multiplier.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            It's up to you to find the right formula that works best for your game. You can increase the multiplier as the player gets to a higher leve, or you can add items to the player ot change the multiplier to give them more of an advantage or disadvantage as they increase levels. 
            <br> What you want to do is calculate how long it takes to gain XP, based on the amount of time the player is playing the game. If you want them to level up early on, make sure that the monsters give out lots of XP early on and that as you go to higher levels, you can decrease that XP or incrase the multiplier to offset it.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>$('#calculator').submit(function(){
                var level = Number($("#level").val());
                var multiplier = $("#multiplier").val();
                var nextLevel = level + 1;
                var currentXP = calulateNextLevelExp(level, multiplier);
                var nextXP = calulateNextLevelExp(nextLevel, multiplier);
                var diff = nextXP - currentXP;
                $('#output').text("Level " + level + " XP is "+ currentXP+". You need a total of "+nextXP+" XP for level " +nextLevel + ". Gain "+diff+" more XP to reach the next level!");
                return false;
            });

            function calulateNextLevelExp(level, multiplier){
                return (level * level) * multiplier;
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='9'>
    <h2>Linear Tween</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            For our final equation example, we're going to take a look at how to do a tween. A <b>tween</b> is a type of programmatic animation that allows us to move an object from one position on the screen to another over a set duration of time. 
            <br> In the scene we'll have a blue square and a black circle that can be moved with the mouse. The goal is to make the blue square tween it's position to the black circle location.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Some of the initial variables we'll need for the tween are <b>currentTime</b>, <b>startPos</b>, <b>changeInPos</b>, and <b>duration</b>.
            <br> &bull; The current time is an estimation of the amount of time its happend from the last frame rendering. (delta time)
            <br> &bull; The start position is where our box will start and will be initially set to the boxes initial location.
            <br> &bull; The change in position will represent the targetX value, which we get when we click on the mouse and change the circle's position, minus the box's current x position. Implement Y after.
            <br> &bull; Finally we'll set the duration of the tween animation.
            <br> &bull; We'll throw all these in a linearTween function with the input values: (currentTime, startPos, changeInPos, duration). Set the box's x position to the result of this function call. (For the x values)
            <br> &bull; Then set the start position to the box's y location and set the change in position equal to targetY minus the box.y.
            <br> &bull; Then simply call the linear tween function again with the y values instead.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This affect is incredibly powerful when paired with UI in your game. This allows you to have smooth transition from one scene to another, where you can tween up and down elements of the UI and help make a smoother transition as you go form one part of your game to another.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Code</h3>
            <pre>
            <span class='glyphicon-remove'></span>// create a canvas to work with
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);

            // style canvas
            canvas.id     = "canvas";
            canvas.width  = 400;
            canvas.height = 400;
            canvas.setAttribute("style", "border: 1px solid black;");

            // get 2D context
            var context = canvas.getContext('2d');

            var box = {x:20, y:30, width: 100, height: 100 };

            // place holders for mouse x,y position
            var targetX = 100;
            var targetY = 100;

            var fps = 60;
            var spf = 1000/fps;

            // loop
            setInterval(onTimerTick, spf);

            // render Loop
            function onTimerTick() {
                    
                // clear the canvas
                canvas.width = canvas.width;
                
                UpdatePosition()
            
                context.fillStyle = "blue";
                context.fillRect (box.x - (box.width * .5),box.y- (box.height * .5),box.width,box.height);
                
            context.arc(targetX,targetY,10,0,2*Math.PI);
            context.stroke();
            }

            // update mouse position
            canvas.addEventListener('click', updateMouse, false);

            function updateMouse(e){
                targetX = e.offsetX;
                targetY = e.offsetY;
            }

            /*
            T: current Time
            B: start Value
            C: change in value
            D: duration
            */
            function linearTween(t, b, c, d) {
                return c*t/d + b;
            };

            function UpdatePosition(){
                
                var currentTime = 1000/fps;
                var startPos = box.x;
                var changeInPos = targetX - box.x;
                var duration = 500;
            
            box.x = linearTween(currentTime, startPos, changeInPos, duration);
            
            startPos = box.y;
            changeInPos = targetY - box.y;
            box.y = linearTween(currentTime, startPos, changeInPos, duration);
            
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="../../../js/selection.js" charset="utf-8"></script>
</body>

</html>