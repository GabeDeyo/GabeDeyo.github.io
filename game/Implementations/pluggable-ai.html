<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Pluggable AI with Scriptable Objects</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header id="header">
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="../Categories/concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="../Categories/engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="../Categories/implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- PROGRAMMING -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- LANGUAGES -->
                                <li><a href="../../code/Categories/languages.html">Languages <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ALGORITHMS -->
                                <li><a href="../../code/Categories/algorithms.html">Algorithms <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PROBLEMS -->
                                <li><a href="../../code/Categories/problems.html">Problems <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- RANDOM -->
                                <li><a href="../../code/Categories/random.html">Random <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../../gabe/Categories/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../../gabe/Categories/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../../gabe/Categories/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../../gabe/Categories/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- Side Navigation -->
    <aside id="side-nav">
        <ul>
          <li><a href="#header">Top</a></li>
          <li class="separator"></li>
          <li><a href="#0">Introduction</a></li>
          <li><a href='#1'>Finite State AI</a></li>
          <li><a href='#2'>Action and State Base Classes</a></li>
          <li><a href='#3'>Patrol Action</a></li>
          <li><a href='#4'>Decisions and Looking</a></li>
          <li><a href='#5'>Transition Between States</a></li>
        </ul>
    </aside>

    <!-- Main -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">Pluggable AI with Scriptable Objects</h1>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#0">Introduction</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#1'>Finite State AI</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#2'>Action and State Base Classes</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#3'>Patrol Action</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#4'>Decisions and Looking</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#5'>Transition Between States</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="0">
    <h2>Introduction</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            <h3>Project Goals</h3>
            <p><span class='glyphicon-remove'></span> &bull; Learn how to create a finite state machine based AI system.</p>
            <p><span class='glyphicon-remove'></span>Learn how to author actions, decisions and transitions for our state machine.</p>
            <p><span class='glyphicon-remove'></span>Learn how to modify agent behavior by plugging in ScriptableObject assets.</p>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            <h3>Agent Types</h3>
            <p><span class='glyphicon-remove'></span><b>Chaser</b> - Patrols, once they see an enemy they chase until it's dead.</p>
            <p><span class='glyphicon-remove'></span><b>Scanner</b> - Patrols, once they see an enemy they chase until it loses line of sight, then scan in a circle for a new target and either chase or patrol.</p>
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            Download asset files here: <a href="http://bit.ly/unitypluggableAI">Pluggable AI</a>
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='1'>
    <h2>Finite State AI</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Narrow AI vs. General AI</h3>
            <p><span class='glyphicon-remove'></span> &bull; Our AI is <b>narrow</b> or 'weak' AI, it is non-sentient artificial intelligence that is focused on one narrow task.</p>
            <p><span class='glyphicon-remove'></span> &bull; We're not making Skynet here.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Finite State Machine</h3>
            <p><span class='glyphicon-remove'></span> &bull; An abstract machine that can be in exactly one of a finite number of states at any given time.</p>
            <p><span class='glyphicon-remove'></span> &bull; The finite state machine can change from one state to another in response to some external inputs; the change from one state to another is called a transition.</p>
            <p><span class='glyphicon-remove'></span> &bull; A finite state machine is defined by a list of its states, its initial state and the conditions for each transition.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>ScriptableObjects</h3>
            <p><span class='glyphicon-remove'></span> &bull; Like MonoBehaviour but not attached to GameObjects.</p>
            <p><span class='glyphicon-remove'></span> &bull; Can be used to create assets which store data or execute code. This implementation features both.</p>
            <p><span class='glyphicon-remove'></span> &bull; Watch Richard "superpig" Fine's video on Overthrowing the MonoBehaviour Tyranny in a Glorious ScriptableObject Revolution.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Delegation or Delegate Pattern</h3>
            <p><span class='glyphicon-remove'></span>In <b>Delegation</b>, an object handles a request by delegating to a second object (the delegate).</p>
            <p><span class='glyphicon-remove'></span>We will delegate behavior to ScriptableObject assets and thereby create the <b>'pluggable'</b> aspect of the system.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Elements of Our Pluggable AI</h3>
            <p><span class='glyphicon-remove'></span><b>Assets:</b>
                <br> &nbsp; &bull; Actions
                <br> &nbsp; &bull; Decisions
                <br> &nbsp; &bull; Transitions
                <br> &nbsp; &bull; States</p>
            <p><span class='glyphicon-remove'></span><b>MonoBehaviour</b>
                <br> &nbsp; &bull; StateController</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>EnemyStats</h3>
            <p><span class='glyphicon-remove'></span>The first script to create is the <b>"EnemyStats"</b> script which provides a Scriptable Object.</p>
            <p><span class='glyphicon-remove'></span>This script provides all stats that any enemy needs.</p>
            <pre>
            <span class='glyphicon-remove'></span>[CreateAssetMenu (menuName = "PluggableAI/EnemyStats")]
            public class EnemyStats : ScriptableObject {
                public float moveSpeed = 1;
                public float lookRange = 40f;
                public float lookSphereCastRadius = 1f;

                public float attackRange = 1f;
                public float attackRate = 1f;
                public float attackForce = 15f;
                public int attackDamage = 50;

                public float searchDuration = 4f;
                public float searchingTurnSpeed = 120f;
            }
            </pre>
            <p><span class='glyphicon-remove'></span>It then looks like we create a ScriptableObject called "DefaultEnemyStats".
                <br> &nbsp; &bull; In the Scripts folder, create a sub-folder called <b>"ScriptableObjects"</b>.
                <br> &nbsp; &bull; Use the Assets menu to create an EnemyStats object called <b>"DefaultEnemyStats"</b>.
                <br> &nbsp; &bull; Down the line, the values are: [1, 80, 2, 40, 1, 15, 50, 8, 120]</p>
            <p><span class='glyphicon-remove'></span>This script will not change throughout the project.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>StateController</h3>
            <p><span class='glyphicon-remove'></span>Create a new C# script called <b>"StateController"</b>. This will be developed throughout the project.</p>
            <pre>
            <span class='glyphicon-remove'></span>//using UnityEngine.AI; Complete;

            public class StateController : MonoBehaviour {

                public EnemyStats enemyStats;
                public Transform eyes;

                [HideInInspector] public NavMeshAgent navMeshAgent;
                [HideInInspector] public Complete.TankShooting tankShooting;
                [HideInInspector] public List&lt;Transform> wayPointList;

                private bool aiActive;

                void Awake() {
                    tankShooting = GetComponent&lt;Complete.TankShooting>();
                    navMeshAgent = GetComponent&lt;NavMeshAgent>();
                }

                public void SetupAI(bool aiActivationFromTankManager, List&lt;Transform> wayPointsFromTankManager) {
                    wayPointList = wayPointsFromTankManager;
                    aiActive = aiActivationFromTankManager;

                    if (aiActive) {
                        navMeshAgent.enabled = true;
                    } else {
                        navMeshAgent.enabled = false;
                    }
                }
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='2'>
    <h2>Action and State Base Classes</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            This section will focus on building our most simple features called <b>Actions</b> and <b>States</b>.
            <p><span class='glyphicon-remove'></span>Start by creating a new C# script called "Action".</p>
            <pre>
            <span class='glyphicon-remove'></span>public abstract class Action : ScriptableObject {

                public abstract void Act (StateController controller);
            }
            </pre>
            <p><span class='glyphicon-remove'></span>Create a new C# script called "State".</p>
            <pre>
            <span class='glyphicon-remove'></span>[CreateAssetMenu (menuName = "PluggableAI/State")]
            public class State : ScriptableObject {

                public Action[] actions;
                public Color sceneGizmoColor = Color.grey;

                public void UpdateState(StateController controller) {
                    DoActions(controller);
                }

                private void DoActions(StateController controller) {

                    for (int i = 0; i &lt; actions.Length; i++) {
                        actions[i].Act(controller);
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Updated StateController</h3>
            <pre>
                <span class='glyphicon-remove'></span>//using UnityEngine.AI; Complete;
    
                public class StateController : MonoBehaviour {
    
                    public State currentState;
                    public EnemyStats enemyStats;
                    public Transform eyes;
    
                    [HideInInspector] public NavMeshAgent navMeshAgent;
                    [HideInInspector] public Complete.TankShooting tankShooting;
                    [HideInInspector] public List&lt;Transform> wayPointList;
    
                    private bool aiActive;
    
                    void Awake() {
                        tankShooting = GetComponent&lt;Complete.TankShooting>();
                        navMeshAgent = GetComponent&lt;NavMeshAgent>();
                    }
    
                    public void SetupAI(bool aiActivationFromTankManager, List&lt;Transform> wayPointsFromTankManager) {

                        wayPointList = wayPointsFromTankManager;
                        aiActive = aiActivationFromTankManager;
    
                        if (aiActive) {
                            navMeshAgent.enabled = true;
                        } else {
                            navMeshAgent.enabled = false;
                        }
                    }

                    void Update() {

                        if (!aiActive)
                            return;
                        
                        currentState.UpdateState(this);
                    }

                    void OnDrawGizmos() {
                        if (currentState != null &amp;&amp; eyes != null) {
                            Gizmos.color = currentState.sceneGizmoColor;
                            Gizmos.DrawWireSphere(eyes.position, enemyStats.lookSphereCastRadius);
                        }
                    }
                }
                </pre>
                <p><span class='glyphicon-remove'></span>May need to put an empty Eye object on the Tank prefab.</p>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='3'>
    <h2>Patrol Action</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            This section will be focused on creating an action which allows an <i>agent</i> to patrol around a set of waypoints.
            <p><span class='glyphicon-remove'></span>Create a new C# script called "PatrolAction".</p>
            <pre>
            <span class='glyphicon-remove'></span>[CreateAssetMenu (menuName = "PluggableAI/Actions/Patrol")]
            public class PatrolAction : Action {

                public override void Act(StateController controller) {

                    Patrol(controller);
                }

                private void Patrol(StateController controller) {

                    controller.navMeshAgent.destination = controller.wayPointList[controller.nextWayPoint].position;
                    controller.navMeshAgent.Resume();

                    if (controller.navMeshAgent.remainingDistance &lt;= controller.navMeshAgent.stoppingDistance
                        &amp;&amp; !controller.NavMeshAgent.pathPending) 
                    {
                        controller.nextWayPoint = (controller.nextWayPoint + 1) % controller.wayPointList.Count;
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Updated StateController</h3>
            <pre>
            <span class='glyphicon-remove'></span>//using UnityEngine.AI; Complete;

            public class StateController : MonoBehaviour {

                public State currentState;
                public EnemyStats enemyStats;
                public Transform eyes;

                [HideInInspector] public NavMeshAgent navMeshAgent;
                [HideInInspector] public Complete.TankShooting tankShooting;
                [HideInInspector] public List&lt;Transform> wayPointList;
                [HideInInspector] public int nextWayPoint;

                private bool aiActive;

                void Awake() {
                    tankShooting = GetComponent&lt;Complete.TankShooting>();
                    navMeshAgent = GetComponent&lt;NavMeshAgent>();
                }

                public void SetupAI(bool aiActivationFromTankManager, List&lt;Transform> wayPointsFromTankManager) {

                    wayPointList = wayPointsFromTankManager;
                    aiActive = aiActivationFromTankManager;

                    if (aiActive) {
                        navMeshAgent.enabled = true;
                    } else {
                        navMeshAgent.enabled = false;
                    }
                }

                void Update() {

                    if (!aiActive)
                        return;
                    
                    currentState.UpdateState(this);
                }

                void OnDrawGizmos() {
                    if (currentState != null &amp;&amp; eyes != null) {
                        Gizmos.color = currentState.sceneGizmoColor;
                        Gizmos.DrawWireSphere(eyes.position, enemyStats.lookSphereCastRadius);
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            We now can create an Action.
                <br> &nbsp; &bull; Create a new folder in the Scriptable Objects folder called <b>"Actions"</b>.
                <br> &nbsp; &bull; Also create a new folder in the Scriptable Objects folder called <b>"States"</b>.
                <br> &nbsp; &bull; In the States folder, create a new State called <b>"Patrol Chaser"</b>.
                <br> &nbsp; &bull; In the Actions folder, create a new Patrol Action called <b>"PatrolAction"</b>.
                <br> &nbsp; &bull; Set the Actions of the Patrol Chaser to the new PatrolAction.
                <br> &nbsp; &bull; Set the Scene Gizmo Color to Green.
            <p><span class='glyphicon-remove'></span>On the Tank prefab, add the State Controller script.
                <br> &nbsp; &bull; Add the Enemy Stats and Eye components.
                <br> &nbsp; &bull; Set the Current State to the new "Patrol Chaser" state.</p>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='4'>
    <h2>Decisions and Looking</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            This section will focus on the Decision object type.
            <p><span class='glyphicon-remove'></span>Create a new script called "Decision"</p>
            <pre>
            <span class='glyphicon-remove'></span>public abstract class Decision : ScriptableObject {

                public abstract bool Decide (StateController controller);
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Look Decision</h3>
            <pre>
            <span class='glyphicon-remove'></span>[CreateAssetMenu (menuName = "PluggableAI/Decisions/Look")]
            public class LookDecision : Decision {

                public override bool Decide(StateController controller) {

                    bool targetVisible = Look(controller);
                    return targetVisible;
                }

                private bool Look(StateController controller) {

                    RaycastHit hit;

                    Debug.DrawRay(
                        controller.eyes.position,
                        controller.eyes.forward.normalized * controller.enemyStats.lookRange,
                        Color.green
                    );

                    if (
                        Physics.SphereCast(
                            controller.eyes.position,
                            controller.enemyStats.lookSphereCastRadius,
                            controller.eyes.forward,
                            out hit,
                            controller.enemyStats.lookRange
                        ) 
                        &amp;&amp; hit.collider.CompareTag("Player")) 
                    {
                        controller.chaseTarget = hit.transform;
                        return true;
                    } else {
                        return false;
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Updated StateController</h3>
            <pre>
            <span class='glyphicon-remove'></span>//using UnityEngine.AI; Complete;

            public class StateController : MonoBehaviour {

                public State currentState;
                public EnemyStats enemyStats;
                public Transform eyes;

                [HideInInspector] public NavMeshAgent navMeshAgent;
                [HideInInspector] public Complete.TankShooting tankShooting;
                [HideInInspector] public List&lt;Transform> wayPointList;
                [HideInInspector] public int nextWayPoint;
                [HideInInspector] public Transform chaseTarget;

                private bool aiActive;

                void Awake() {
                    tankShooting = GetComponent&lt;Complete.TankShooting>();
                    navMeshAgent = GetComponent&lt;NavMeshAgent>();
                }

                public void SetupAI(bool aiActivationFromTankManager, List&lt;Transform> wayPointsFromTankManager) {

                    wayPointList = wayPointsFromTankManager;
                    aiActive = aiActivationFromTankManager;

                    if (aiActive) {
                        navMeshAgent.enabled = true;
                    } else {
                        navMeshAgent.enabled = false;
                    }
                }

                void Update() {

                    if (!aiActive)
                        return;
                    
                    currentState.UpdateState(this);
                }

                void OnDrawGizmos() {
                    if (currentState != null &amp;&amp; eyes != null) {
                        Gizmos.color = currentState.sceneGizmoColor;
                        Gizmos.DrawWireSphere(eyes.position, enemyStats.lookSphereCastRadius);
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Now we can apply this decision.
                <br> &nbsp; &bull; Create a new folder under ScriptableObjects called <b>"Decisions"</b>.
                <br> &nbsp; &bull; In this folder, create an instance of the Look Decision called <b>"LookDecision"</b>.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='5'>
    <h2>Transition Between States</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            This section will focus on transitioning between the different states we have.
            <p><span class='glyphicon-remove'></span>Create a new C# script called Transition.</p>
            <pre>
            <span class='glyphicon-remove'></span>[System.Serializable]
            public class Transition {

                public Decision decision;
                public State trueState;
                public State falseState;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Updated State</h3>
            <pre>
            <span class='glyphicon-remove'></span>[CreateAssetMenu (menuName = "PluggableAI/State")]
            public class State : ScriptableObject {

                public Action[] actions;
                public Transition[] transitions;
                public Color sceneGizmoColor = Color.grey;

                public void UpdateState(StateController controller) {
                    DoActions(controller);
                    CheckTransitions(controller)
                }

                private void DoActions(StateController controller) {

                    for (int i = 0; i &lt; actions.Length; i++) {
                        actions[i].Act(controller);
                    }
                }

                private void CheckTransitions(StateController controller) {

                    for (int i = 0; i &lt; transitions.Length; i++) {
                        bool decisionSucceeded = transitions[i].decision.Decide(controller);

                        if (decisionSucceeded) {
                            controller.TransitionToState(transitions[i].trueState);
                        } else {
                            controller.TransitionToState(transitions[i].falseState);
                        }
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Updated StateController</h3>
            <pre>
            <span class='glyphicon-remove'></span>//using UnityEngine.AI; Complete;

            public class StateController : MonoBehaviour {

                public State currentState;
                public EnemyStats enemyStats;
                public Transform eyes;
                public State remainState;

                [HideInInspector] public NavMeshAgent navMeshAgent;
                [HideInInspector] public Complete.TankShooting tankShooting;
                [HideInInspector] public List&lt;Transform> wayPointList;
                [HideInInspector] public int nextWayPoint;
                [HideInInspector] public Transform chaseTarget;

                private bool aiActive;

                void Awake() {
                    tankShooting = GetComponent&lt;Complete.TankShooting>();
                    navMeshAgent = GetComponent&lt;NavMeshAgent>();
                }

                public void SetupAI(bool aiActivationFromTankManager, List&lt;Transform> wayPointsFromTankManager) {

                    wayPointList = wayPointsFromTankManager;
                    aiActive = aiActivationFromTankManager;

                    if (aiActive) {
                        navMeshAgent.enabled = true;
                    } else {
                        navMeshAgent.enabled = false;
                    }
                }

                void Update() {

                    if (!aiActive)
                        return;
                    
                    currentState.UpdateState(this);
                }

                void OnDrawGizmos() {
                    if (currentState != null &amp;&amp; eyes != null) {
                        Gizmos.color = currentState.sceneGizmoColor;
                        Gizmos.DrawWireSphere(eyes.position, enemyStats.lookSphereCastRadius);
                    }
                }

                public void TransitionToState(State nextState) {
                    if (nextState != remainState) {
                        currentState = nextState;
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>New States</h3>
            <p><span class='glyphicon-remove'></span>Create a new State called <b>"Chase Chaser"</b></p>
            <p><span class='glyphicon-remove'></span>Create a new State called <b>"RemainInState"</b></p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Head to the Patrol Chaser State in the States folder.
                <br> &nbsp; &bull; Add 1 to the new Transitions array.
                <br> &nbsp; &bull; Set the Decision to LookDecision
                <br> &nbsp; &bull; Set the True State to Chase Chaser state.
                <br> &nbsp; &bull; Set Chase Chaser gimzo color to red.
                <br> &nbsp; &bull; Set the False State to Remain In State state.
                <br> &nbsp; &bull; Set the Remain State variable on State Controller to the Remain In State state.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="../../js/selection.js" charset="utf-8"></script>
</body>

</html>