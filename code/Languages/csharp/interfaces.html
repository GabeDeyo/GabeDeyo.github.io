<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>C# - Interfaces</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="../../../game/Categories/concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="../../../game/Categories/engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="../../../game/Categories/implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        
                        <!-- PROGRAMMING -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- LANGUAGES -->
                                <li><a href="../../Categories/languages.html">Languages <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ALGORITHMS -->
                                <li><a href="../../Categories/algorithms.html">Algorithms <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PROBLEMS -->
                                <li><a href="../../Categories/problems.html">Problems <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- RANDOM -->
                                <li><a href="../../Categories/random.html">Random <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../../../gabe/Categories/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../../../gabe/Categories/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../../../gabe/Categories/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../../../gabe/Categories/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- MAIN -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">C# - Interfaces</h1>

                    <aside>
                        <button type="button" class="btn btn-default" name="button" id="selectAll">Select All</button>
                        <button type="button" class="btn btn-default" name="button" id="clearAll">Clear All</button>
                    </aside>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#0">Interfaces</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#1'>Defining and Implementing</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#2'>Casting Interfaces</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#3'>Implementing Multiple Interfaces</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#4'>Explicit Interface Implementation</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#5'>.NET Defined Interfaces</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="0">
    <h2>Interfaces</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            &bull; Interfaces describe common behavior, not individual objects.
            <br>&bull; An interface can be shared among several different classes.
            <br>&bull; Classes can implement multiple interfaces.
            <br>&bull; Interfaces provide no logic themselves.
            <br>&bull; When defining an interface, placing an 'I' in front of the interface name is standard naming convention.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            &bull; When you want a class to implement the logic of an interface, the class would need to declare itself as a child of the interface.
            <br>&bull; Because the interface acts as a contract towards the class, the class is then responsible for implementing the logic of that interface.
            <br>&bull; By using an interface, different kinds of objects can provide the same capabilities using the same set of defined methods.
            <br>&bull; Using interfaces gives you a way to separate out common sets of behavior in your application, and comsume them in multiple places.
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='1'>
    <h2>Defining and Implementing</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Let's take the idea of a Document. The document will need a name and a constructor that sets that name. 
            <br>&bull; The first step to figuring out how to incorporate an interface is to think about logic it will be implementing.
            <br>&bull; In the case of our Document, we'll have three core members. It will need to <i>Save and Load</i>, and it will need to check if it needs to Save.
            <br>&bull; This gives us two methods, Save() and Load, and a boolean that checks if saving is needed, NeedsSave.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Let's see the code:
            <pre>
            <span class='glyphicon-remove'></span>namespace BasicInterfaces {

                interface IStorable {
                    void Save();
                    void Load();
                    Boolean NeedsSave { get; set; }
                }

                class Document : IStorable {
                    private string name;
                    private Boolean _NeedsSave = false;

                    public Document(string s) {
                        name = s;
                        Console.WriteLine("Created a document with name '{0}'", s);
                    }

                    public void Save() {
                        Console.WriteLine("Saving the document");
                    }

                    public void Load() {
                        Console.WriteLine("Loading the document");
                    }

                    public Boolean NeedsSave {
                        get { return _NeedsSave; }
                        set { _NeedsSave = value; }
                    }
                }

                class Program {
                    static void Main(string[] args) {
                        Document d = new Document("Test Doc");
                        d.Save();
                        d.Load();
                        d.NeedsSave = false;
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Notice there are no access modifiers in the interface definition. 
            <br>&bull; This is because interfaces are designed to expose functionality to other classes, so their contents must be implicitly public.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='2'>
    <h2>Casting Interfaces</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; You can cast a given object to an interface using the C# keywords <b>IS</b> and <b>AS</b>.
            <br>&bull; The <b>IS</b> operator can be used to determine if a given object <i>is</i> an instant of, or derived from, a specific class.
            <br>&bull; The <b>AS</b> performs the cast or conversion from one type to another.
            <pre>
            <span class='glyphicon-remove'></span>Class A -> Class B -> Class C
            void f() {
                B obj = new B();
            }

            if(obj is A) {} //true
            if(obj is B) {} //true
            if(obj is C) {} //false

            A obj2 = obj as A // obj2 is A
            C obj2 = obj as C // obj2 is null
            </pre>
            </p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Let's see the casting interfaces code with our previous example:
            <pre>
            <span class='glyphicon-remove'></span>//Use the IStorable and Document classes from last section
            class Program {
                static void Main(string[] args) {
                    Document d = new Document("Test Document");

                    // Use the 'is' operator
                    if(d is IStorable) { // true
                        d.Save();
                    }

                    // Use the 'as' operator
                    IStorable intStor = d as IStorable;
                    if(intStor != null) { // true
                        d.Load();
                    }
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; This kind of casting ability is very useful when you combine it with data structures like Collections.
            <br>&bull; One example is if you have a list of objects of various types, and you might want to be able to call certain methods on them, but only if they implement a specific interface.
            <br>&bull; Using the <i>IS</i> and <i>AS</i> operators, you can determine if an object implements that interface and call the methods appropriately so.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='3'>
    <h2>Implementing Multiple Interfaces</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &amp; One of the main limitations of C# is that classes can only inherit from a single-parent class. However, sometimes we do want to draw functionality from different sources. This is were Interfaces can help.
            <br>&bull; C# classes can implement multiple interfaces which can help when designing classes that have to support a variety of features.
            <br>&bull; In order to do this, you simply need to place a comma between the names of the interfaces you want to implement.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Let's demonstrate this by adding another interface to our Document example:
            <pre>
            <span class='glyphicon-remove'></span>//Below IStorable Interface
            interface IEncryptable {
                void Encrypt();
                void Decrypt();
            }

            class Document : IStorable, IEncryptable {
                //other stuff

                public void Encrypt() {
                    Console.WriteLine("Encrypting the document");
                }

                public void Decrypt() {
                    Console.WriteLine("Decrypting the document");
                }
            }

            class Program {
                static void Main(string[] args) {
                    Document d = new Document("Test Document");

                    d.Load();
                    d.Encrypt();
                    d.Save();
                    d.Decrypt();
                    d.NeedsSave = false;
                }
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            XXX
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='4'>
    <h2>Explicit Interface Implementation</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; One issue that can arise from the previous example is that two separate interfaces can define the same method? What happens then?
            <br>&bull; The solution to this problem is <b>Explicit Interface Implementation</b>.
            <br>&bull; Using this technique, we can easily resolve any naming conflicts among interfaces that your application uses.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            This is luckily an easy fix and can be shown in one example.
            <pre>
            <span class='glyphicon-remove'></span>namespace ExplicitInterfaces {
                interface IFoo {
                    void SomeMethod();
                }
                interface IBar {
                    void SomeMethod();
                }

                class FooBar : IFoo, IBar {
                    void IFoo.SomeMethod() {
                        Console.WriteLine("This is IFoo's SomeMethod");
                    }
                    void IBar.SomeMethod() {
                        Console.WriteLine("This is IBar's SomeMethod");
                    }

                    public void SomeMethod() {
                        Console.WriteLine("This is the class SomeMethod");
                    }
                }

                class Program {
                    static void Main(string[] args) {
                        FooBar fb = new FooBar();
                        fb.SomeMethod();

                        IFoo ifoo = fb as IFoo;
                        ifoo.SomeMethod();

                        IBar ibar = fb as IBar;
                        ibar.SomeMethod();
                    }
                }
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='5'>
    <h2>.NET Defined Interfaces</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; In addition to defining you're own interfaces, your application can use ones that are already built into the .NET framework.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <b>Notable .NET Interfaces</b>
            <table class="table table-condensed">
                <tr>
                    <td>IComparable,<br>IComparer</td>
                    <td>Used to compare objects of the same type</td>
                </tr>
                <tr>
                    <td>IDisposable</td>
                    <td>Give callers a ways to safely dispose of your object and release resources</td>
                </tr>
                <tr>
                    <td>IEquatable</td>
                    <td>Used to determine equality of two objects of the same type</td>
                </tr>
                <tr>
                    <td>INotifyPropertyChanged</td>
                    <td>Broadcast changes to property values on your object</td>
                </tr>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Let's see some code:
            <pre>
            <span class='glyphicon-remove'></span>// Include the namespace that contains INotifyPropertyChanged
            using System.ComponentModel;
            
            namespace DotNetInterfaces {

                interface IStorable {
                    void Save();
                    void Load();
                    Boolean NeedsSave { get; set; }
                }

                class Document : IStorable {
                    private string name;
                    private Boolean _NeedsSave = false;

                    // INotifyPropertyChanged requires the implementation of 1 event
                    public event PropertyChangedEventHandler PropertyChanged;

                    // Utility function to call the PropertyChanged event
                    private void NotifyPropoChanged(string propName) {
                        PropertyChanged(this, new PropertyChangedEventArgs(propName));
                    }

                    public Document(string s) {
                        name = s;
                        Console.WriteLine("Created a document with name '{0}'", s);
                    }

                    public string DocName {
                        get { return name; }
                        set {
                            name = value;
                            NotifyPropChanged("DocName");
                        }
                    }

                    public void Save() {
                        Console.WriteLine("Saving the document");
                    }

                    public void Load() {
                        Console.WriteLine("Loading the document");
                    }

                    public Boolean NeedsSave {
                        get { return _NeedsSave; }
                        set { 
                            _NeedsSave = value; 
                            NotifyPropChanged("NeedsSave");
                        }
                    }
                }

                class Program {
                    static void Main(string[] args) {
                        Document d = new Document("Test Doc");

                        d.PropertyChanged += delegate(object sender,
                            PropertyChangedEventArgs e) {
                                Console.WriteLine("Document property changed: {0}", e.PropertyName);
                        }

                        d.DocName = "My Document";
                        d.NeedsSave = true;
                    }
                }
            }
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="../../../js/selection.js" charset="utf-8"></script>
</body>

</html>
