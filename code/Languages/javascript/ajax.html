<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>AJAX</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header id="header">
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="../../../game/Categories/concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="../../../game/Categories/engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="../../../game/Categories/implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        
                        <!-- PROGRAMMING -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- LANGUAGES -->
                                <li><a href="../../Categories/languages.html">Languages <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ALGORITHMS -->
                                <li><a href="../../Categories/algorithms.html">Algorithms <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PROBLEMS -->
                                <li><a href="../../Categories/problems.html">Problems <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- RANDOM -->
                                <li><a href="../../Categories/random.html">Random <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../../../gabe/Categories/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../../../gabe/Categories/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../../../gabe/Categories/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../../../gabe/Categories/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- Side Navigation -->
    <aside id="side-nav">
        <ul>
          <li><a href="#header">Top</a></li>
          <li class="separator"></li>
          <li><a href="#0">Introduction</a></li>
          <li><a href="#1">XMLHttp</a></li>
          <li><a href="#2">Request</a></li>
          <li><a href="#3">Response</a></li>
          <li><a href="#4">XML File</a></li>
          <li><a href="#5">Database</a></li>
        </ul>
    </aside>

    <!-- MAIN -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">AJAX</h1>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#0">Introduction</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#1'>XMLHttp</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#2'>Request</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#3'>Response</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#4'>XML File</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#5'>Database</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="0">
    <h2>Introduction</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            AJAX is a developer's dream, because you can:
                <br> &nbsp; &bull; Read data from a web server - after the page has been loaded
                <br> &nbsp; &bull; Update a web page without reloading the page
                <br> &nbsp; &bull; Send data to a web server - in the background
            <p><span class='glyphicon-remove'></span>AJAX is not a programming language
                <br> &nbsp; &bull; AJAX is a technique for accessing web servers from a web page</p>
            <p><span class='glyphicon-remove'></span>AJAX stands for <b>Asynchronous JavaScript and XML</b></p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>AJAX Example</h3>
            <pre>
            <span class='glyphicon-remove'></span>&lt;div id="demo">
                &lt;h2>Let AJAX change this text&lt;/h2>
                &lt;button type="button" onclick="loadDoc()">Change Content&lt;/button>
            &lt;/div>
            </pre>
            <p><span class='glyphicon-remove'></span>The HTML page contains a div section and a button.
                <br> &nbsp; &bull; The div section is used to display information from a server.
                <br> &nbsp; &bull; The button calls a function (if it is clicked).
                <br> &nbsp; &bull; The function requests data form a web server and displays it.</p>
            <pre>
            <span class='glyphicon-remove'></span>function loadDoc() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                  if (this.readyState == 4 &amp;&amp; this.status == 200) {
                   document.getElementById("demo").innerHTML = this.responseText;
                  }
                };
                xhttp.open("GET", "ajax_info.txt", true);
                xhttp.send();
              }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>What is AJAX?</h3>
            <p><span class='glyphicon-remove'></span>AJAX = Asynchronous JavaScript And XML
                <br> &nbsp; &bull; AJAX is not a programming language.</p>
            <p><span class='glyphicon-remove'></span>AJAX just uses a combination of:
                <br> &nbsp; &bull; A browser built-in XMLHTtpRequest object (to request data from a web server)
                <br> &nbsp; &bull; JavaScript and HTML DOM (to display or use the data)</p>
            <p><span class='glyphicon-remove'></span>AJAX is a misleading name. AJAX applications might use XML to transport data, but it is equally common to transport data as plain text or JSON text.</p>
            <p><span class='glyphicon-remove'></span>AJAX allows web pages to be updated asynchronously by exchanging data with a web server behind the scenes. This means that it is possible to update parts of a web page, without reloading the whole page.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>How AJAX Works</h3>
            <br>1. An event occursin a web page (the page is loaded, a button is clicked)
            <br>2. An XMLHttpRequest object is created by JavaScript
            <br>3. The XMLHttpRequest object sends a request to a web server
            <br>4. The server processes the request
            <br>5. The server sends a response back to the web page
            <br>6. The response is read by JavaScript
            <br>7. Proper action (like page update) is performed by JavaScript
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='1'>
    <h2>XMLHttp</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Access Across Domains</h3>
            <p><span class='glyphicon-remove'></span>For security reasons, modern browsers do not allow access across domains.
                <br> &nbsp; &bull; This means that both the web page and the XML file it tries to load, must be located on the same server.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Older Browsers (IE5/6)</h3>
            <p><span class='glyphicon-remove'></span>Od versions of Internet Explorer (5/6) use an ActiveX object instead of the XMLHttpRequest object.
                <br> &nbsp; &bull; To handle IE(5/6), check if the browser supports the XMLHttpRequest object, or else create an ActiveX object.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>XMLHttpRequest Object Methods</h3>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>new XMLHttpRequest()</td>
                        <td>Creates a new XMLHttpRequest object</td>
                    </tr>
                    <tr>
                        <td>abort()</td>
                        <td>Cancels the current request</td>
                    </tr>
                    <tr>
                        <td>getAllResponseHeaders()</td>
                        <td>Returns header information</td>
                    </tr>
                    <tr>
                        <td>getResponseHeader()</td>
                        <td>Returns specific header information</td>
                    </tr>
                    <tr>
                        <td>open(method, url, async, user, psw)</td>
                        <td>Specifies the request
                            <br> &nbsp; &bull; <i>methods:</i> the request type GET or POST
                            <br> &nbsp; &bull; <i>url:</i> the file location
                            <br> &nbsp; &bull; <i>async:</i> true (asynchronous) or false (synchronous)
                            <br> &nbsp; &bull; <i>user:</i> optional user name
                            <br> &nbsp; &bull; <i>psw: </i> optional password
                        </td>
                    </tr>
                    <tr>
                        <td>send()</td>
                        <td>Sends the request to the server
                            <br> &nbsp; &bull; Used for GET requests
                        </td>
                    </tr>
                    <tr>
                        <td>send(string)</td>
                        <td>Sends the request to the server
                            <br> &nbsp; &bull; Used for POST requests
                        </td>
                    </tr>
                    <tr>
                        <td>setRequestHeader()</td>
                        <td>Adds a label/value pair to the header to be sent</td>
                    </tr>
                </tbody>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>XMLHttpRequest Object Properties</h3>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>onreadystatechange</td>
                        <td>Defines a function to be called when the readyState property changes</td>
                    </tr>
                    <tr>
                        <td>readyState</td>
                        <td>Holds the status of the XMLHttpRequest
                            <br> &nbsp; 0: request not initialized
                            <br> &nbsp; 1: server connection established
                            <br> &nbsp; 2: request received
                            <br> &nbsp; 3: processing request
                            <br> &nbsp; 4: request finished and response is ready
                        </td>
                    </tr>
                    <tr>
                        <td>responseText</td>
                        <td>Returns the response data as a string</td>
                    </tr>
                    <tr>
                        <td>responseXML</td>
                        <td>Returns the response data as XML data</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>Returns the status-number of a request
                            <br> &nbsp; 200: "OK"
                            <br> &nbsp; 403: "Forbidden"
                            <br> &nbsp; 404: "Not Found"
                        </td>
                    </tr>
                    <tr>
                        <td>statusText</td>
                        <td>Returns the status-text</td>
                    </tr>
                </tbody>
            </table>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='2'>
    <h2>Request</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            The XMLHttpRequest object is used to exchange data with a server.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Send a Request to a Server</h3>
            <p><span class='glyphicon-remove'></span>To send a request to a server, we use the <i>open()</i> and <i>send()</i> methods of the XMLHttpRequest object:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "ajax_info.txt", true);
            xhttp.send();
            </pre>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>open(method, url, async)</td>
                        <td>Specifies the type of request
                            <br> &nbsp; &bull; <i>method:</i> the type of request: GET or POST
                            <br> &nbsp; &bull; <i>url:</i> the server (file) location
                            <br> &nbsp; &bull; <i>async:</i> true (asynchronous) or false (synchronous)
                        </td>
                    </tr>
                    <tr>
                        <td>send()</td>
                        <td>Sends the request to the server (used for GET)</td>
                    </tr>
                    <tr>
                        <td>send(string)</td>
                        <td>Sends the request to the server (used for POST)</td>
                    </tr>
                </tbody>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>GET or POST?</h3>
            <p><span class='glyphicon-remove'></span>GET is simpler and faster than POST, and can be used in most cases.</p>
            <p><span class='glyphicon-remove'></span>However, always use POST requests when:
                <br> &nbsp; &bull; A cached file is not an option (update a file or database on the server).
                <br> &nbsp; &bull; Sending a large amount of data to the server (POST has no size limitations).
                <br> &nbsp; &bull; Sending user input (which can contain unknown characters), POST is more robust and secure than GET.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>GET Requests</h3>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "demo_get.asp", true);
            xhttp.send();
            </pre>
            <p><span class='glyphicon-remove'></span>In this example, you may get a cached result. To avoid this add a unique ID to the URL:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "demo_get.asp?t=" + Math.random(), true);
            xhttp.send();
            </pre>
            <p><span class='glyphicon-remove'></span>If you want to send information with the GET method, add the information to the URL:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "demo_get2.asp?fname=Henry&amp;lname=Ford", true);
            xhttp.send();
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>POST Requests</h3>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("POST", "demo_post.asp", true);
            xhttp.send();
            </pre>
            <p><span class='glyphicon-remove'></span>To POST data like an HTML form, add an HTTP header with setRequestHeader(). Specify the data you want to send in the send() method:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("POST", "ajax_test.asp", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("fname=Henry&amp;lname=Ford");
            </pre>
            
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>setRequestHeader(header, value)</td>
                        <td>Adds HTTP headers to the request
                            <br> &nbsp; &bull; <i>header:</i> specifies the header name
                            <br> &nbsp; &bull; <i>value:</i> specifies the header value
                        </td>
                    </tr>
                </tbody>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>The URL - A File on a Server</h3>
            <p><span class='glyphicon-remove'></span>The url parameter of the open() method, is an address to a file on a server:</p>
            <p><span class='glyphicon-remove'></span>The file can be any kind of file, like .txt and .xml, or server scripting files like .asp and .php (which can perform actions on the server before sending the response back).</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "ajax_text.asp", true);
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Asynchronous - True or False?</h3>
            <p><span class='glyphicon-remove'></span>Server requests should be sent asynchronously.
                <br> &nbsp; &bull; The async parameter of the open() method should be set to true:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "ajax_text.asp", true);
            </pre>
            <p><span class='glyphicon-remove'></span>By sending asynchronously, the JavaScript does not have to wait for the server response, but can instead:
                <br> &nbsp; &bull; execute other sripts while waiting for server response
                <br> &nbsp; &bull; deal with the response after the response is ready</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>onreadystatechange Property</h3>
            <p><span class='glyphicon-remove'></span>With the XMLHttpRequest object you can define a function to be executed when the request receives an answer.</p>
            <p><span class='glyphicon-remove'></span>The function is defined in the <b>onreadystatechange</b> property of the XMLHttpRequest object:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.onreadystatechange = function() {
                if (this.readyState == 4 &amp;&amp; this.status == 200) {
                    document.getElementById("demo").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", "ajax_info.txt", true);
            xhttp.send();
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Synchronous Request</h3>
            <p><span class='glyphicon-remove'></span>To execute a synchronous request, change the third parameter in the open() method to false:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "ajax_info.txt", false);
            </pre>
            <p><span class='glyphicon-remove'></span>Sometimes async = false are used for quick testing. You will also find synchronous requests in older JavaScript code.</p>
            <p><span class='glyphicon-remove'></span>Since the code will wait for server completion, there is no need for an onreadystatechange function:</p>
            <pre>
            <span class='glyphicon-remove'></span>xhttp.open("GET", "ajax_info.txt", false);
            xhttp.send();
            document.getElementById("demo").innerHTML = xhttp.responseText;
            </pre>
            <p><span class='glyphicon-remove'></span><b>!Important</b> - Synchronous XMLHttpRequest (async = false) is not recommended because the JavaScript will stop executing until the server response is ready. If the server is busy or slow, the application will hang or stop.
                <br> &nbsp; &bull; Synchronous XMLHttpRequest is in the process of being removed from the web standard, but this process can take many years.
                <br> &nbsp; &bull; Modern developer tools are encouraged to warn about using synchronous requests and may throw an InvalidAccessError exception when it occurs.</p>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='3'>
    <h2>Response</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            <h3>onreadystatechange Property</h3>
            <p><span class='glyphicon-remove'></span>The <b>readyState</b> property holds the status of the XMLHttpRequest.</p>
            <p><span class='glyphicon-remove'></span>The <b>onreadystatechange</b> property defines a function to be executed when the readyState changes.
                <br> &nbsp; &bull; The onreadystatechange function is called every time the readyState changes.
                <br> &nbsp; &bull; The onreadystatechange event is triggered four times (1-4), one time for each change in the readyFunction.</p>
            <p><span class='glyphicon-remove'></span>The <b>status</b> property and the <b>statusText</b> property holds the status of the XMLHttpRequest object.</p>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>onreadystatechange</td>
                        <td>Defines a function to be called when the readyState property changes</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>200: "OK"
                            <br>403: "Forbidden"
                            <br>404: "Page not found"
                        </td>
                    </tr>
                    <tr>
                        <td>statusText</td>
                        <td>Returns the status-text</td>
                    </tr>
                </tbody>
            </table>
            <p><span class='glyphicon-remove'></span>When readyState is 4 and status is 200, the response is ready:</p>
            <pre>
            <span class='glyphicon-remove'></span>function loadDoc() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 &amp;&amp; this.status == 200) {
                        document.getElementById("demo").innerHTML =
                        this.responseText;
                   }
                };
                xhttp.open("GET", "ajax_info.txt", true);
                xhttp.send(); 
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Using a Callback Function</h3>
            <p><span class='glyphicon-remove'></span>A callback function is a function passed as a parameter to another function.</p>
            <p><span class='glyphicon-remove'></span>If you have more than one AJAX task in a website, you should create one function for executing the XMLHttpRequest object, and one callback function for each AJAX task.
                <br> &nbsp; &bull; The function call should contain the URL and what function to call when the response is ready.</p>
            <pre>
            <span class='glyphicon-remove'></span>loadDoc("url-1", myFunction1);
            
            loadDoc("url-2", myFunction2);
            
            function loadDoc(url, cFunction) {
              var xhttp;
              xhttp = new XMLHttpRequest();
              xhttp.onreadystatechange = function() {
                if (this.readyState == 4 &amp;&amp; this.status == 200) {
                  cFunction(this);
                }
              };
              xhttp.open("GET", url, true);
              xhttp.send();
            }
            
            function myFunction1(xhttp) {
              // action goes here
            } 
            function myFunction2(xhttp) {
              // action goes here
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Server Response Properties</h3>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>responseText</td>
                        <td>get the response data as a string</td>
                    </tr>
                    <tr>
                        <td>responseXML</td>
                        <td>get the response data as XML data</td>
                    </tr>
                </tbody>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Server Response Methods</h3>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>getResponseHeader()</td>
                        <td>Returns specific header information from the server resource</td>
                    </tr>
                    <tr>
                        <td>getAllResponseHeader()</td>
                        <td>Returns all the header information from the server resource</td>
                    </tr>
                </tbody>
            </table>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>responseText Property</h3>
            <p><span class='glyphicon-remove'></span>The <b>responseText</b> property returns the server response as a JavaScript string, and you can use it accordingly:</p>
            <pre>
            <span class='glyphicon-remove'></span>document.getElementById("demo").innerHTML = xhttp.responseText;
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>responseXML Property</h3>
            <p><span class='glyphicon-remove'></span>The XML HttpRequest object has an in-built XML parser.</p>
            <p><span class='glyphicon-remove'></span>The <b>responseXML</b> property returns the server response as an XML DOM object.
                <br> &nbsp; &bull; Using this property you can parse the response as an XML DOM object.</p>
            <p><span class='glyphicon-remove'></span>This example will request the file cd_catalog.xml and parse the response:</p>
            <pre>
            <span class='glyphicon-remove'></span>xmlDoc = xhttp.responseXML;
            txt = "";
            x = xmlDoc.getElementsByTagName("ARTIST");
            for (i = 0; i &lt; x.length; i++) {
              txt += x[i].childNodes[0].nodeValue + "&lt;br>";
              }
            document.getElementById("demo").innerHTML = txt;
            xhttp.open("GET", "cd_catalog.xml", true);
            xhttp.send();
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>getAllResponseHeader() Method</h3>
            <p><span class='glyphicon-remove'></span>The <b>getAllResponseHeader()</b> method returns all header information from the server response.</p>
            <pre>
            <span class='glyphicon-remove'></span>var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4 &amp;&amp; this.status == 200) {
                document.getElementById("demo").innerHTML =
                this.getAllResponseHeaders();
              }
            };
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>getReponseHeader() Method</h3>
            <p><span class='glyphicon-remove'></span>The <b>getResponseHeader()</b> method returns specific header information from the server response.</p>
            <pre>
            <span class='glyphicon-remove'></span>var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4 &amp;&amp; this.status == 200) {
                document.getElementById("demo").innerHTML =
                this.getResponseHeader("Last-Modified");
              }
            };
            xhttp.open("GET", "ajax_info.txt", true);
            xhttp.send();
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='4'>
    <h2>XML File</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            AJAX can be used for interactive communication with an XML file.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Example</h3>
            <pre>
            <span class='glyphicon-remove'></span>//cd_catalog.xml

            &lt;CATALOG>
                &lt;CD>
                    &lt;TITLE>Empire Burlesque&lt;/TITLE>
                    &lt;ARTIST>Bob Dylan&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>Columbia&lt;/COMPANY>
                    &lt;PRICE>10.90&lt;/PRICE>
                    &lt;YEAR>1985&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Hide your heart&lt;/TITLE>
                    &lt;ARTIST>Bonnie Tyler&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>CBS Records&lt;/COMPANY>
                    &lt;PRICE>9.90&lt;/PRICE>
                    &lt;YEAR>1988&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Greatest Hits&lt;/TITLE>
                    &lt;ARTIST>Dolly Parton&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>RCA&lt;/COMPANY>
                    &lt;PRICE>9.90&lt;/PRICE>
                    &lt;YEAR>1982&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Still got the blues&lt;/TITLE>
                    &lt;ARTIST>Gary Moore&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Virgin records&lt;/COMPANY>
                    &lt;PRICE>10.20&lt;/PRICE>
                    &lt;YEAR>1990&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Eros&lt;/TITLE>
                    &lt;ARTIST>Eros Ramazzotti&lt;/ARTIST>
                    &lt;COUNTRY>EU&lt;/COUNTRY>
                    &lt;COMPANY>BMG&lt;/COMPANY>
                    &lt;PRICE>9.90&lt;/PRICE>
                    &lt;YEAR>1997&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>One night only&lt;/TITLE>
                    &lt;ARTIST>Bee Gees&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Polydor&lt;/COMPANY>
                    &lt;PRICE>10.90&lt;/PRICE>
                    &lt;YEAR>1998&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Sylvias Mother&lt;/TITLE>
                    &lt;ARTIST>Dr.Hook&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>CBS&lt;/COMPANY>
                    &lt;PRICE>8.10&lt;/PRICE>
                    &lt;YEAR>1973&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Maggie May&lt;/TITLE>
                    &lt;ARTIST>Rod Stewart&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Pickwick&lt;/COMPANY>
                    &lt;PRICE>8.50&lt;/PRICE>
                    &lt;YEAR>1990&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Romanza&lt;/TITLE>
                    &lt;ARTIST>Andrea Bocelli&lt;/ARTIST>
                    &lt;COUNTRY>EU&lt;/COUNTRY>
                    &lt;COMPANY>Polydor&lt;/COMPANY>
                    &lt;PRICE>10.80&lt;/PRICE>
                    &lt;YEAR>1996&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>When a man loves a woman&lt;/TITLE>
                    &lt;ARTIST>Percy Sledge&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>Atlantic&lt;/COMPANY>
                    &lt;PRICE>8.70&lt;/PRICE>
                    &lt;YEAR>1987&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Black angel&lt;/TITLE>
                    &lt;ARTIST>Savage Rose&lt;/ARTIST>
                    &lt;COUNTRY>EU&lt;/COUNTRY>
                    &lt;COMPANY>Mega&lt;/COMPANY>
                    &lt;PRICE>10.90&lt;/PRICE>
                    &lt;YEAR>1995&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>1999 Grammy Nominees&lt;/TITLE>
                    &lt;ARTIST>Many&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>Grammy&lt;/COMPANY>
                    &lt;PRICE>10.20&lt;/PRICE>
                    &lt;YEAR>1999&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>For the good times&lt;/TITLE>
                    &lt;ARTIST>Kenny Rogers&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Mucik Master&lt;/COMPANY>
                    &lt;PRICE>8.70&lt;/PRICE>
                    &lt;YEAR>1995&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Big Willie style&lt;/TITLE>
                    &lt;ARTIST>Will Smith&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>Columbia&lt;/COMPANY>
                    &lt;PRICE>9.90&lt;/PRICE>
                    &lt;YEAR>1997&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Tupelo Honey&lt;/TITLE>
                    &lt;ARTIST>Van Morrison&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Polydor&lt;/COMPANY>
                    &lt;PRICE>8.20&lt;/PRICE>
                    &lt;YEAR>1971&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Soulsville&lt;/TITLE>
                    &lt;ARTIST>Jorn Hoel&lt;/ARTIST>
                    &lt;COUNTRY>Norway&lt;/COUNTRY>
                    &lt;COMPANY>WEA&lt;/COMPANY>
                    &lt;PRICE>7.90&lt;/PRICE>
                    &lt;YEAR>1996&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>The very best of&lt;/TITLE>
                    &lt;ARTIST>Cat Stevens&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Island&lt;/COMPANY>
                    &lt;PRICE>8.90&lt;/PRICE>
                    &lt;YEAR>1990&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Stop&lt;/TITLE>
                    &lt;ARTIST>Sam Brown&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>A and M&lt;/COMPANY>
                    &lt;PRICE>8.90&lt;/PRICE>
                    &lt;YEAR>1988&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Bridge of Spies&lt;/TITLE>
                    &lt;ARTIST>T'Pau&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Siren&lt;/COMPANY>
                    &lt;PRICE>7.90&lt;/PRICE>
                    &lt;YEAR>1987&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Private Dancer&lt;/TITLE>
                    &lt;ARTIST>Tina Turner&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>Capitol&lt;/COMPANY>
                    &lt;PRICE>8.90&lt;/PRICE>
                    &lt;YEAR>1983&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Midt om natten&lt;/TITLE>
                    &lt;ARTIST>Kim Larsen&lt;/ARTIST>
                    &lt;COUNTRY>EU&lt;/COUNTRY>
                    &lt;COMPANY>Medley&lt;/COMPANY>
                    &lt;PRICE>7.80&lt;/PRICE>
                    &lt;YEAR>1983&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Pavarotti Gala Concert&lt;/TITLE>
                    &lt;ARTIST>Luciano Pavarotti&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>DECCA&lt;/COMPANY>
                    &lt;PRICE>9.90&lt;/PRICE>
                    &lt;YEAR>1991&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>The dock of the bay&lt;/TITLE>
                    &lt;ARTIST>Otis Redding&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>Stax Records&lt;/COMPANY>
                    &lt;PRICE>7.90&lt;/PRICE>
                    &lt;YEAR>1968&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Picture book&lt;/TITLE>
                    &lt;ARTIST>Simply Red&lt;/ARTIST>
                    &lt;COUNTRY>EU&lt;/COUNTRY>
                    &lt;COMPANY>Elektra&lt;/COMPANY>
                    &lt;PRICE>7.20&lt;/PRICE>
                    &lt;YEAR>1985&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Red&lt;/TITLE>
                    &lt;ARTIST>The Communards&lt;/ARTIST>
                    &lt;COUNTRY>UK&lt;/COUNTRY>
                    &lt;COMPANY>London&lt;/COMPANY>
                    &lt;PRICE>7.80&lt;/PRICE>
                    &lt;YEAR>1987&lt;/YEAR>
                &lt;/CD>
                &lt;CD>
                    &lt;TITLE>Unchain my heart&lt;/TITLE>
                    &lt;ARTIST>Joe Cocker&lt;/ARTIST>
                    &lt;COUNTRY>USA&lt;/COUNTRY>
                    &lt;COMPANY>EMI&lt;/COMPANY>
                    &lt;PRICE>8.20&lt;/PRICE>
                    &lt;YEAR>1987&lt;/YEAR>
                &lt;/CD>
            &lt;/CATALOG>
            </pre>
            <pre>
            <span class='glyphicon-remove'></span>//HTML

            &lt;h2>The XMLHttpRequest Object&lt;/h2>
            
            &lt;button type="button" onclick="loadDoc()">Get my CD collection&lt;/button>
            &lt;br>&lt;br>
            &lt;table id="demo">&lt;/table>
            </pre>
            <pre>
            <span class='glyphicon-remove'></span>//script

            function loadDoc() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                  if (this.readyState == 4 &amp;&amp; this.status == 200) {
                    myFunction(this);
                  }
                };
                xhttp.open("GET", "cd_catalog.xml", true);
                xhttp.send();
              }
              function myFunction(xml) {
                var i;
                var xmlDoc = xml.responseXML;
                var table="&lt;tr>&lt;th>Artist&lt;/th>&lt;th>Title&lt;/th>&lt;/tr>";
                var x = xmlDoc.getElementsByTagName("CD");
                for (i = 0; i &lt; x.length; i++) { 
                  table += "&lt;tr>&lt;td>" +
                  x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
                  "&lt;/td>&lt;td>" +
                  x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
                  "&lt;/td>&lt;/tr>";
                }
                document.getElementById("demo").innerHTML = table;
              }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Example Explanation</h3>
            <p><span class='glyphicon-remove'></span>When a user clicks the "Get CD info" button above, the loadDoc() function is executed.</p>
            <p><span class='glyphicon-remove'></span>The loadDoc() function creates an XMLHttpRequest object, adds the function to be executed when the server response is ready, and sends the request off to the server.</p>
            <p><span class='glyphicon-remove'></span>When the server response is ready, an HTML table is built, nodes (elements) are extracted from the XML file, and it finally updates the element "demo" with the HTML table filled with XML data.</p>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='5'>
    <h2>Database</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            AJAX can be used for interactive communication with a database.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Database Example</h3>
            <pre>
            <span class='glyphicon-remove'></span>//HTML

            &lt;h2>The XMLHttpRequest Object&lt;/h2>
            
            &lt;form action=""> 
            &lt;select name="customers" onchange="showCustomer(this.value)">
            &lt;option value="">Select a customer:&lt;/option>
            &lt;option value="ALFKI">Alfreds Futterkiste&lt;/option>
            &lt;option value="NORTS ">North/South&lt;/option>
            &lt;option value="WOLZA">Wolski Zajazd&lt;/option>
            &lt;/select>
            &lt;/form>
            &lt;br>
            &lt;div id="txtHint">Customer info will be listed here...&lt;/div>
            </pre>
            <pre>
            <span class='glyphicon-remove'></span>//Script

            function showCustomer(str) {
                var xhttp;    
                if (str == "") {
                  document.getElementById("txtHint").innerHTML = "";
                  return;
                }
                xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                  if (this.readyState == 4 &amp;&amp; this.status == 200) {
                    document.getElementById("txtHint").innerHTML = this.responseText;
                  }
                };
                xhttp.open("GET", "getcustomer.asp?q="+str, true);
                xhttp.send();
              }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            <h3>Database Example Explained</h3>
            <p><span class='glyphicon-remove'></span>When a user selects a customer in the dropdown list, a function called "showCustomer()" is executed.
                <br> &nbsp; &bull; This function is triggered by the 'onchange' event.</p>
            <p><span class='glyphicon-remove'></span>ShowCustomer() does the following:
                <br> &nbsp; &bull; Check if a customer is selected
                <br> &nbsp; &bull; Create an XMLHttpRequest object
                <br> &nbsp; &bull; Create a function to be executed when the server response is ready
                <br> &nbsp; &bull; Send the request off to a file on the server
                <br> &nbsp; &bull; Notice that a parameter (q) is added to the URL (with the content of the dropdown list)</p>
            <p><span class='glyphicon-remove'></span>The page on the server called by the JavaScript above is an ASP file called "getcustomer.asp"
                <br> &nbsp; &bull; The server file could easily be rewritten in PHP, or some other server language.
                <br> &nbsp; &bull; The source code in "getcustomer.asp" runs a query against a database, and returns the result in an HTML table:</p>
            <pre>
            <span class='glyphicon-remove'></span>//getcustomer.asp

            &lt;%
            response.expires=-1
            sql="SELECT * FROM CUSTOMERS WHERE CUSTOMERID="
            sql=sql &amp; "'" &amp; request.querystring("q") &amp; "'"
            
            set conn=Server.CreateObject("ADODB.Connection")
            conn.Provider="Microsoft.Jet.OLEDB.4.0"
            conn.Open(Server.Mappath("/datafolder/northwind.mdb"))
            set rs=Server.CreateObject("ADODB.recordset")
            rs.Open sql,conn
            
            response.write("&lt;table>")
            do until rs.EOF
              for each x in rs.Fields
                response.write("&lt;tr>&lt;td>&lt;b>" &amp; x.name &amp; "&lt;/b>&lt;/td>")
                response.write("&lt;td>" &amp; x.value &amp; "&lt;/td>&lt;/tr>")
              next
              rs.MoveNext
            loop
            response.write("&lt;/table>")
            %>
            </pre>
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="../../../js/selection.js" charset="utf-8"></script>
</body>

</html>
