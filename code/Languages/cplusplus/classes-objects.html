<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>C++ - Classes &amp; Objects</title>

    <meta name="viewport" content="width=device-width,initial-scale=1.0, shrink-to-fit=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../css/page.css">
</head>

<body>

    <!-- Top Navigation -->
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapsemenu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../../../index.html" class="navbar-brand">Personal Notes</a>
                </div>

                <div class="collapse navbar-collapse" id="collapsemenu">
                    <ul class="nav navbar-nav">

                        <!-- GAME DEVELOMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Game Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- CONCEPTS -->
                                <li><a href="../../../game/Categories/concepts.html">Concepts <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ENGINE -->
                                <li><a href="../../../game/Categories/engine.html">Engine <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- IMPLEMENTATIONS -->
                                <li><a href="../../../game/Categories/implementations.html">Implementations <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        
                        <!-- PROGRAMMING -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- LANGUAGES -->
                                <li><a href="../../Categories/languages.html">Languages <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- ALGORITHMS -->
                                <li><a href="../../Categories/algorithms.html">Algorithms <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PROBLEMS -->
                                <li><a href="../../Categories/problems.html">Problems <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- RANDOM -->
                                <li><a href="../../Categories/random.html">Random <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                        <!-- GABE DEVELOPMENT -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gabe Development <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <!-- FITNESS PAGE -->
                                <li><a href="../../../gabe/Categories/fitness.html">Fitness <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- STYLE & GROOMING PAGE -->
                                <li><a href="../../../gabe/Categories/style.html">Style <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- FINANCE PAGE -->
                                <li><a href="../../../gabe/Categories/finance.html">Finance <span class="glyphicon-chevron-right"></span></a></li>

                                <!-- PHILOSOPHY PAGE -->
                                <li><a href="../../../gabe/Categories/philosophy.html">Philosophy <span class="glyphicon-chevron-right"></span></a></li>
                            </ul>
                        </li>

                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <!-------------------------------------------------------------------------->

    <!-- MAIN -->
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="title">C++ - Classes &amp; Objects</h1>

                    <aside>
                        <button type="button" class="btn btn-default" name="button" id="selectAll">Select All</button>
                        <button type="button" class="btn btn-default" name="button" id="clearAll">Clear All</button>
                    </aside>

                    <div class="jumbotron heliList">
                        <h2>Index</h2>
                        <ul>
                            <li><p><span class="glyphicon-remove"></span>
                                <a href="#0">Overview</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#1'>Defining Classes</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#2'>Data Members</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#3'>Function Members</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#4'>Constuctors and Destructors</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#5'>Implicit vs. Explicit Constructors</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#6'>Namespaces</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#7'>*this</a>
                                </p>
                            </li>
                            <li><p><span class='glyphicon-remove'></span>
                                <a href='#8'>Overloading Operators with Member Functions</a>
                                </p>
                            </li>
                        </ul>
                    </div>

<div class="jumbotron col-md-12 heliList" id="0">
    <h2>Overview</h2>
    <ul>
        <li><p><span class="glyphicon-remove"></span>
            &bull; In C++, classes are like <i>custom data types</i>.
            <br>&bull; They are designed to be used like the fundamental types provided by the C++ language.
            <br>&bull; A <b>class</b> is the definition of a class, or using the class keyword.
            <br>&bull; An <b>object</b> is created from that class definition, hence why it's called an instance of a class.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            &bull; A common term to describe the process of creating an object is the verb <i>instantiate</i>.
            <br>&bull; <b>Members</b> are the contents of an object. And there are two types:
            <br> &nbsp; &bull; <b>Data</b> members are sometimes called properties.
            <br> &nbsp; &bull; <b>Function</b> members are members that represent functions associated with the class.
        </p></li>
        <li><p><span class="glyphicon-remove"></span>
            &bull; <i>Constructors</i> and <i>Destructors</i> are special function members that are called when an object is created or destroyed respectively.
            <br>&bull; A <b>Constructor</b> is called when the object is created. There may be several defined, but <i>only one</i> is called depending on how the object is created.
            <br>&bull; The <b>Destructor</b> is called when the object is destroyed. There can only be one destructor to find. 
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; It's important to <i>Allocate</i> and <i>Deallocate</i> memory appropriately, so that your objects run smoothly.
            <br>&bull; <i>Overload operators</i> so that you objects can use those operators intelligently.
            <br>&bull; <i>Overload the function</i> call operators so that your objects can operate like a function.
            <br>&bull; Create <i>Conversion operators</i> so that your objects behave as you expect them to in different contexts. 
        </p></li>
    </ul>
    <a href="#title"><span class="glyphicon-menu-up"></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='1'>
    <h2>Defining Classes</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Classes in C++ are very powerful and flexible, and they are the fundamental unit of object oriented programming.
            <br>Lets look at some code:
            <pre>
            <span class='glyphicon-remove'></span>//A very simple class
            class Class1 {
            private:
                int i = 0;
            public:
                void setvalue( const int value) { i = value; }
                int getvalue() const { return i; }
            };

            int main(int argc, char ** argv) {
                int i = 47;
                Class1 object1;

                object1.setvalue(i);
                printf("value is %d\n", object1.getvalue());
                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Member functions can be declared out of the class definition like so:
            <pre>
            <span class='glyphicon-remove'></span>//Typically goes in a header file
            class Class1 {
                int i;
            public:
                void setvalue( const int value );
                int getvalue() const;
            };

            //Typically go in a separate implementation file
            void Class1::setvalue(const int value) {
                i = value;
            }
            int Class1::getvalue() const {
                return i;
            }

            //Main goes in it's own program file
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            XXX
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='2'>
    <h2>Data Members</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; C++ objects are based on C structures. In fact, you can create objects using either the struct or object keyword.
            <br>Let's look at some <b>struct</b> code:
            <pre>
            <span class='glyphicon-remove'></span>struct A {
                int ia;
                int ib;
                int ic;
            };

            int main() {
                A a = {1, 2, 3};
                printf("%d, %d, %d\n", a.ia, a.ib, a.ic);
                return 0;
            }
            </pre>
            <p><span class='glyphicon-remove'></span>&bull; !Note! class declarations default their data members to private while struct defaults to public.</p>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; In terms of C, this would be considered a variable of a structure.
            <br>&bull; In terms of C++, it's an object base on this structure and the name of the variable is A.
            <br>&bull; <i>Data members</i> are accessed using the <i>elements selection operator</i>. The perios after the object call.
            <br>&bull; Another way to access data members is through a pointer and the arrow pointer:
            <pre>
            <span class='glyphicon-remove'></span>int main() {
                A a = {1, 2, 3};
                A *pa = &amp;a;
                printf("ia is %d", pa->ia);
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The only difference between a <b>Class</b> and a <b>Struct</b> is that members of a class default to private and members of a struct default to public.
            <br>&bull; It's good practice to use <i>struct</i> when the structure will only have data members and to use classes when they're all function members.
            <br>&bull; Typically, data members in a class are kept private and that's why it defaults to private, which are then accessed through public function methods called <b>accessors</b>.
            <br>&bull; Acessor methods have <b>setters</b> and <b>getters</b>. Setters and getters are for setting and returning private data members respectively.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='3'>
    <h2>Function Members</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; C++ classes can have <i>member functions</i> that act as methods for the class.
            <br>&bull; Like mentioned in the last section; class definition, function definitions, and main should all be <i>separated into their seperate files</i>.
            <br>Let's see some member function code:
            <pre>
            <span class='glyphicon-remove'></span>class A {
                int ia;
            public:
                void setvalue( const int a );
                int getvalue() const;
            };

            void A::setvalue( const int a ) {
                ia = a;
            }

            int A::getvalue() const {
                return ia;
            }

            int main() {
                A a;
                const A b = a;
                printf("value is %d\n", b.getvalue());

                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Notice that the getter for our class variable is marked as constant, if not the getter would not be const safe.
            <br>&bull; Because object b is a const type A, this means it cannot be modified.
            <br>&bull; Any method that's called on a const object must be const safe.
            <br>&bull; A const safe method cannot modify any of its data members.
            <br>&bull; Likewise, if we try to run <i>setvalue()</i> on b we'll get an error become the setter is not const safe and the object b is. We can't let the setter be const because it actually is needed to change a value.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; One interesting thing you could do here is actually create a const-safe getter and a non-const-safe getter.
            <br>&bull; The result of doing this is that non-const object will call the non-const-safe getter and the const object will call the const-safe getter.
            <br>&bull; So we can actually have two versions of the same method that are only distinguishable in their signature by whether or not they're const safe.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='4'>
    <h2>Constructors and Destructors</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Constructors and Destructors are special member functions that serve a particular purpose.
            <br>Let's see some <b>Constructor</b> code:
            <pre>
            <span class='glyphicon-remove'></span>const string unk = "unknown";
            const string clone_prefix = "clone-";

            // interface
            class Animal {
                string _type = "";
                string _name = "";
                string _sound = "";
            public:
                Animal();    //default constructor
                Animal(const string &amp; type, const string &amp; name, const string &amp; sound);

                Animal(const Animal &amp;); //copy constructor
                Animal &amp; operator=(const Animal &amp;); //copy constructor
                ~Animal(); //destructor
                void print() const;
            };

            // implementation
            Animal::Animal() : _type(unk), _name(unk), _sound(unk) {
                put("default constructor");
            }

            Animal::Anima(const string &amp; type, const string &amp; name, const string &amp; sound)
                    : _type(type, _name(name), _sound(sound) {
                puts("constructor with arguments");
            }

            Animal::Animal(const Animal &amp; a) {
                puts("copy constructor");
                _name = clone_prefix + a._name;
                _type = a._type;
                _sound = a._sound;
            }

            Animal::~Animal() {
                printf("destructor: %s the %s\n", _name.c_str(), _type.c_str());
            }

            void Animal::print() const {
                printf("%s the %s says %s\n", _name.c_str(), _type.c_str(), _sound.c_str());
            }

            Animal &amp; Animal::operator=(const Animal &amp; o) {
                puts("assignment operator");
                if(this != &amp;o) {
                    _name = clone_prefix + o._name;
                    _type = o._type;
                    _sound = o._sound;
                }
                return *this;
            }

            int main() {
                Animal a;
                a.print();

                const Animal b("goat", "bob", "baah");
                b.print();

                const Animal c = b;
                c.print();

                a = c;
                a.print();

                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The first constructor we have is the <i>Default Constructor</i>.
            <br>&bull; This Constructor is used when the class is created with no parameters.
            <br>&bull; Notice there's a list of initializers, just like a class initializer.
            <br>&bull; In the example, we're simply filling in the values with a string unknown constant.
            <br>&bull; If we want to force the class to be initialized with parameters, we can simply move this constructor as a private member.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The second constructor is a <i>Constructor with Parameters</i>.
            <br>&bull; If the class is created with parameters, this constructor will use those values inputed to create the object.
            <br>&bull; Our example has three constant string references as parameters. These get initialized with the constructors initializer list.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The next constructor we have is the <b>Copy Constructor</b>.
            <br>&bull; This constructor takes an object of the same class as it's parameter.
            <br>&bull; It simply copies the values over from the other object.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Next up is the <b>Destructor</b>, which in this case doesn't need to do anything.
            &bull; For this example, we're just printing out the values of whichever object is being destroyed.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The last thing we'll see in this example is the <i>Assignment Operator</i>. This will be covered more in a later section.
            <br>&bull; If you already have a copy constructor, it's usually a good idea to also define the copy operator.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; When dealing with classes, there's something called the <b>Rule of Threes</b>.
            <br>&bull; This says that if you're overloading any of the implicit copy constructor, destructor or copy operator, that it's a good idea to overload all three or things can go wrong.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='5'>
    <h2>Implicit vs. Explicit Constructors</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; When a constructor only has <i>one parameter</i>, it can be used to provide <i>implicit type conversion</i>.
            <br>&bull; The explicit function modifer prevents this behavior.
            <br>Lets see some code:
            <pre>
            <span class='glyphicon-remove'></span>const size_t _maxsize = 1024;

            class strsize {
                size_t _size = 0;
            public:
                explicit strsize(const int);     // constructor: size from int
                explicit strsize(const char *);  // constructor: size from c-string
                size_t size() const;
            };

            strsize::strsize(const int n) {
                puts("constructor: size from int");
                _size = (n <= _maxsize) ? n : 0;
            }

            strsize::strsize(const char * s) {
                puts("constructor: size from c-string");
                for(size_t i = 0; i < _maxsize; i++) {
                    if(s[i] == 0) {
                        _size = i;
                        return;
                    }
                }
                _size = 0;
            }

            size_t strsize::size() const {
                return _size;
            }

            using namespace std;

            void func(const strsize &amp; s) {
                printf("size is %ld\n", s.size());
            }

            int main() {
                strsize s = 'x';
                printf("size is %ld\n", s.size());
                func('x'); //120

                strsize c = "x";
                printf("size is %ld\n", c.size());
                func("x"); //1

                strsize i(7);
                printf("size is %ld\n", i.size()); //7
                func(strsize(5)); // 5

                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; The goal of this code is to get the size of the string, however it's just partial.
            <br>&bull; You'll notice that we have two constructors. One takes an int and one take a char string.
            <br>&bull; The difference is that the int constructor simply copies the value of the int into the size data member. And the character string constructor calculates the length of the string by looking for the null terminator at the end of the string.
            <br>&bull; They both check against the max size constant to make sure that the value is never too big. 
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Implicit conversion happens when you assign a value to an object during construction.
            <br>&bull; That value, if possible, will get converted using a constructor that's available that it can promote to. 
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='6'>
    <h2>Namespaces</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Namespaces in C++ are a great tool for managing the possibility of <i>name inclusions</i>.
            <br>&bull; A common namespace used is the <b>std</b> namespace. It allows you to use classes and objects from the standard namespace in your code.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            Let's see an example:
            <pre>
            <span class='glyphicon-remove'></span>#include &lt;cstdio>
            #include &lt;string>

            namespace bwstring {

                const std::string prefix = "(bwstring)";

                class string {
                    std::string _s = "";
                    string();
                public:
                    string(const std::string &amp; s) : _s(prefix + s) {};
                    const char * c_str() { return _s.c_str(); }
                    operator const std::string &amp; () { return _s; };
                };
            }; // namespace bwstring

            std::string s1("This is a string");

            int main() {
                bwstring::string s(s1);
                std::puts(s.c_str());
                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; You can use a namespace by saying <i>using namespace</i> with the name of your namespace.
            &bull; Alterately, if you just want to use a part of the namespace, you can say <i>using using bwstring::string</i>, which would just use the string object from bwstring namespace.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='7'>
    <h2>*this</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; Object member function in C++ make use of a keyword <i>"this"</i> to provide a pointer to the current object.
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            First, the code:
            <pre>
            <span class='glyphicon-remove'></span>#include &lt;cstdio>
            using namespace std;

            //a very simple class
            class Class1 {
                int i = 0;
            public:
                void setvalue( const int value) { i = value; }
                int getvalue() const;
            };

            int Class1:;getvalue() const {
                printf("getvalue(): this is %p\n", this);
                return i;
            }

            int main() {
                int i = 47;
                class1 object1;
                class1 object2;

                object1.setvalue(i);
                object2.setvalue(i);
                printf("value is %d\n", object1.getvalue());
                printf("address of object1 is %p\n", &amp;object1);
                printf("value is %d\n", object2.getvalue());
                printf("address of object2 is %p\n", &amp;object2);
                return 0;
            }
            </pre>
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            &bull; In the example, were returning the <i>this</i> pointer for each object in the getvalue() function.
            &bull; This returns the address of the specified object.
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

<div class='jumbotron col-md-12 heliList' id='8'>
    <h2>Overloading Operators with Member Functions</h2>
    <ul>
        <li><p><span class='glyphicon-remove'></span>
            &bull; There are two distinct ways to overload operators in C++. One is with member functions as part of a class definition and the other is a separate nonmember functions. 
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            XXX
        </p></li>
        <li><p><span class='glyphicon-remove'></span>
            XXX
        </p></li>
    </ul>
    <a href='#title'><span class='glyphicon-menu-up'></span></a>
</div>

                    <!-------------------------------------->
                </div>
            </div>
    </main>

    <!-------------------------------------------------------------------------->

    <!-- FOOTER -->
    <footer class="navbar navbar-inverse navbar-fixed-bottom">
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <ul>
                            <li>&copy; 2017 <a href="http://www.gabedeyo.com">Gabe Deyo</a></li>
                            <li>|</li>
                            <li><a href="mailto:gabedeyo@gmail.com?subject=Notes">gabedeyo@gmail.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </footer>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="../../../js/selection.js" charset="utf-8"></script>
</body>

</html>
